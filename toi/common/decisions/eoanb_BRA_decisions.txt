political_actions = {
	BRA_decision_weaken_the_elites = {
		available = {
			has_completed_focus = BRA_fight_the_elites
		}
		visible = {
			has_completed_focus = BRA_fight_the_elites
		}
		allowed = { TAG = BRA }
		fire_only_once = yes
		cost = 15
		complete_effect = {
     			BRA = {
				add_stability = 0.02
	 			add_political_power = 150
			}
		}
	}
}

economic_decisions = {
	BRA_decision_invest_caixa={
		available={
			tag = BRA
			has_country_flag = bra_create_caixa
			date > 1861.1.12
			date < 1864.1.1
		}
		allowed = { TAG = BRA }
		visible = {
			tag = BRA
			has_country_flag=bra_create_caixa
			date > 1861.1.12
		}
		fire_only_once = yes
		days_remove = 90
		cost = 100
		modifier ={
			civilian_factory_use = 1
		}
		remove_effect = {
			add_ideas = BRA_caixa
		}
		ai_will_do = {
			base = 1
		}
	}
	BRA_decision_promote_shipbuilding_and_foundry = {
		available = {
			tag = BRA
			has_navy_experience > 10
			date > 1860.1.1
		}
		allowed = { TAG = BRA }
		visible = {
			tag = BRA
			has_navy_experience > 10
			date > 1860.1.1
		}

		fire_only_once = yes
		days_remove = 90
		cost = 300
		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			navy_experience = -20
		}

		remove_effect = {
			add_timed_idea = {
				idea = BRA_shipbuilding_and_foundry_ponta_da_areia
				days = 365
			}
			500 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = steel_mill
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			base = 1
		}
	}

	BRA_decision_amazon_development = {
		available = {
			BRA = {has_idea = BRA_amazon_colonization}
			tag = BRA
			date > 1862.7.11
		}
		allowed = { TAG = BRA }
		visible = {
			BRA = {has_idea = BRA_amazon_colonization}
			tag = BRA
		}
		is_good = yes
		days_remove = 70
		modifier = {
			#consumer_goods = 0.05
			civilian_factory_use = 4
		}
		remove_effect = {
			every_owned_state = {
				limit = {
					OR = {
						state = 495
						state = 280
						state = 496
						state = 1323
					}
				}
				add_extra_state_shared_building_slots = 1
				random_list = {
					50 = {
						add_building_construction = {
							type = farm
							level = 1
							instant_build = yes
						}
					}
					25 = {
						add_building_construction = {
							type = logging_camp
							level = 1
							instant_build = yes
						}
					}
					15 = {
						add_building_construction = {
							type = cotton_farm
							level = 1
							instant_build = yes
						}
					}
					7 = {
						add_building_construction = {
							type = coal_mine
							level = 1
							instant_build = yes
						}
					}
					3 = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		ai_will_do = {
			base = 1
		}
	}
}

BRA_decision_category_coffee_economy={

	BRA_decision_coffee_economy_capital={
		icon = money
		available={
			1037 = {is_controlled_by = BRA}
			1037 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			1037 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build=no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_capital
			unlock_decision_tooltip = BRA_decision_coffee_economy_capital_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_capital_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_capital_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_capital_free_workers={
		allowed = {original_tag=BRA}
		icon = generic_civil_support
		available = {
			1037 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1037 = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 1037 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		days_re_enable = 1600
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			1037={
				set_state_flag = coffee_economy_free_workers
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_capital_maua_company_workers={
		allowed = {original_tag=BRA}
		icon = gre_investment_decisions
		available = {
			1037 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1037 = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 1037 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		days_re_enable = 1600
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			1037={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
					}
				}
			}
		}
	}
	
	
	BRA_decision_coffee_economy_capital_slave_workers={
		allowed = {original_tag=BRA}
		icon = generic_independence
		available = {
			1037 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1037 = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 1037 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			1037={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
					}
				}
			}
		}
	}

	BRA_mission_coffee_economy_capital={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			1037 = {infrastructure > 6}
			owns_state = 1037
		}
		activation = { always = no }
		highlight_states={
			state = 1037
		}
		state_target = yes
		targets = { 1037 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			1037 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			1037 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					48 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_farm
						modifier = {
							add = 3
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -24
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -48
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_farm
						}
					}
					24 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_cotton_farm
						modifier = {
							add = 3
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -12
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -18
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_cotton_farm
						}
					}
					12 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_fabric_weavery
						modifier = {
							add = 0
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_fabric_weavery
						}
					}
					6 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_steel_mill
						modifier = {
							add = 0
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_steel_mill
						}
					}
					4 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_industrial_complex
						modifier = {
							add = -4
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 6
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 18
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					2 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_capital_arms_factory
						modifier = {
							add = -3
							1037 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 6
							1037 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 18
							1037 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1037={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_capital_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag = coffee_economy_farm
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag = coffee_economy_farm
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_capital_cotton_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = cotton_farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_capital_fabric_weavery={
		icon = generic_construction
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_capital_steel_mill={
		icon = steel
		fire_only_once = yes
		days_remove = 180
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag = coffee_economy_steel_mill
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag = coffee_economy_steel_mill
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = steel_mill
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_capital_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_capital_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1037={
				has_state_flag = coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 1037
			1037={
				has_state_flag = coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 1037
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1037={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_rio_de_janeiro={
		icon = money
		available={
			500 = {is_controlled_by = BRA}
			500 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			500 ={
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = no
				}
				add_building_construction = { 
					type = naval_base 
					level = 1
					province = 10980
					instant_build = no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_rio_de_janeiro
			unlock_decision_tooltip = BRA_decision_coffee_economy_rio_de_janeiro_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_rio_de_janeiro_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_rio_de_janeiro_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_rio_de_janeiro_free_workers={
		allowed = { original_tag = BRA }
		icon = generic_civil_support
		available = {
			500 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			500 = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 500 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		days_re_enable = 1600
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			500={
				set_state_flag=coffee_economy_free_workers
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
						state_production_speed_naval_base_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_rio_de_janeiro_maua_company_workers={
		allowed = {original_tag=BRA}
		icon = gre_investment_decisions
		available = {
			500 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			500 = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 500 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		days_re_enable = 1600
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			500={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
						state_production_speed_naval_base_factor = 0.35
					}
				}
			}
		}
	}
	
	
	BRA_decision_coffee_economy_rio_de_janeiro_slave_workers={
		allowed = {original_tag=BRA}
		icon = generic_independence
		available = {
			#has_country_flag = brazil_coffee_economy_rio_de_janeiro
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
			}
		}
		state_target = yes
		targets = { 500 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		days_re_enable = 1600
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			500={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			500 = {infrastructure > 7}
			500 = {naval_base > 5}
			owns_state = 500
		}
		activation = { always = no }
		highlight_states={
			state = 500
		}
		state_target = yes
		targets = { 500 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			500 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			500 = {
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					40 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_farm
						modifier = {
							add = 5
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -20
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -40
							500 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						500={
							set_state_flag=coffee_economy_farm
						}
					}
					20 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_cotton_farm
						modifier = {
							add = 5
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -10
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -15
							500 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						500={
							set_state_flag=coffee_economy_cotton_farm
						}
					}
					14 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_fabric_weavery
						500={
							set_state_flag=coffee_economy_fabric_weavery
						}
						modifier = {
							add = 0
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 21
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 12
							500 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
					}
					10 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_dockyard
						modifier = {
							add = 0
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 10
							500 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						500={
							set_state_flag=coffee_economy_dockyard
						}
					}
					7 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_industrial_complex
						500={
							set_state_flag=coffee_economy_industrial_complex
						}
						modifier = {
							add = -7
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 10
							500 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
					}
					4 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_rio_de_janeiro_arms_factory
						modifier = {
							add = -4
							500 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							500 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 10
							500 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						500={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_rio_de_janeiro_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro_cotton_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = cotton_farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro_fabric_weavery={
		icon = generic_construction
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro_dockyard={
		icon = generic_naval
		fire_only_once = yes
		days_remove = 180
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag = coffee_economy_dockyard
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag = coffee_economy_dockyard
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro_industrial_complex={
		icon = generic_factory
		fire_only_once = yes
		days_remove = 360
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_rio_de_janeiro_arms_factory={
		icon = generic_industry
		fire_only_once = yes
		days_remove = 720
		allowed={ original_tag = BRA }
		visible={
			500={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 500
			500={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 500
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			500={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_sao_paulo={
		icon = money
		available={
			501 = {is_controlled_by = BRA}
			501 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			501 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build=no
				}
				add_building_construction = { 
					type = naval_base 
					level = 1
					province = 5112
					instant_build = no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_sao_paulo
			unlock_decision_tooltip = BRA_decision_coffee_economy_sao_paulo_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_sao_paulo_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_sao_paulo_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_sao_paulo_free_workers={
		icon = generic_civil_support
		allowed = {original_tag=BRA}
		available = {
			501 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			501 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 501 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			501={
				set_state_flag=coffee_economy_free_workers
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
						state_production_speed_naval_base_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_sao_paulo_maua_company_workers={
		icon = gre_investment_decisions
		allowed = {original_tag=BRA}
		available = {
			501 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			501 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 501 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			501={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
						state_production_speed_naval_base_factor = 0.35
					}
				}
			}
		}
	}
	
	
	BRA_decision_coffee_economy_sao_paulo_slave_workers={
		icon = generic_independence
		allowed = {original_tag=BRA}
		available = {
			#has_country_flag = brazil_coffee_economy_sao_paulo
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 501 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			501={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	BRA_mission_coffee_economy_sao_paulo={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			501 = {infrastructure > 7}
			501 = {naval_base > 4}
			owns_state = 501
		}
		activation = { always = no }
		highlight_states={
			state = 501
		}
		state_target = yes
		targets = { 501 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			501 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			501 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					25 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_farm
						modifier={
							add = 10
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = -12
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -25
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag = coffee_economy_farm
						}
					}
					20 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_cotton_farm
						modifier={
							add = 8
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = -10
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -20
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_cotton_farm
						}
					}
					15 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_fabric_weavery
						modifier={
							add = 0
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = 13
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_fabric_weavery
						}
					}
					15 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_logging_camp
						modifier={
							add = 7
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = -3
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -15
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_logging_camp
						}
					}
					10 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_dockyard
						modifier={
							add = -10
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = 4
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_dockyard
						}
					}
					10 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_industrial_complex
						modifier={
							add = -10
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = 4
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					5 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_sao_paulo_arms_factory
						modifier={
							add = -5
							501 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier={
							add = 4
							501 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 15
							501 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						501={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_sao_paulo_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_cotton_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = cotton_farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_logging_camp={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_fabric_weavery={
		icon = generic_construction
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_dockyard={
		icon = generic_naval
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag=coffee_economy_dockyard
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag=coffee_economy_dockyard
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_sao_paulo_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			501={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 501
			501={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 501
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			501={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_parana={
		icon = money
		available={
			1036 = {is_controlled_by = BRA}
			1036 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			1036 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build = no
				}
				add_building_construction = { 
					type = naval_base 
					level = 1
					province = 14024
					instant_build = no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_parana
			unlock_decision_tooltip = BRA_decision_coffee_economy_parana_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_parana_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_parana_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_parana_free_workers={
		icon = generic_civil_support
		allowed = {original_tag=BRA}
		available = {
			1036 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1036 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1036 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			1036={
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				set_state_flag=coffee_economy_free_workers
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
						state_production_speed_naval_base_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_parana_maua_company_workers={
		icon = gre_investment_decisions
		allowed = {original_tag=BRA}
		available = {
			1036 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1036 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1036 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			1036={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
						state_production_speed_naval_base_factor = 0.35
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_parana_slave_workers={
		icon = generic_independence
		allowed = {original_tag=BRA}
		available = {
			#has_country_flag = brazil_coffee_economy_parana
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1036 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			1036={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	
	BRA_mission_coffee_economy_parana={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			1036 = {infrastructure > 3}
			1036 = {naval_base > 0}
			owns_state = 1036
		}
		activation = { always = no }
		highlight_states={
			state = 1036
		}
		state_target = yes
		targets = { 1036 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			1036 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			1036 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					48 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_farm
						modifier = {
							add = 4
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -24
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -48
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_farm
						}
					}
					24 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_logging_camp
						modifier = {
							add = 4
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -12
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -18
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_logging_camp
						}
					}
					12={
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_coal_mine
						modifier = {
							add = 4
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -6
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -9
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_coal_mine
						}
					}
					6 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_dockyard
						modifier = {
							add = -6
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_dockyard
						}
					}
					4 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_industrial_complex
						modifier = {
							add = -4
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 10
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					2 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_parana_arms_factory
						modifier = {
							add = -2
							1036 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1036 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1036 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1036={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_parana_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_parana_logging_camp={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_parana_coal_mine={
		icon = coal
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = coal_mine
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_parana_dockyard={
		icon = generic_naval
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag=coffee_economy_dockyard
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag=coffee_economy_dockyard
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_parana_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_parana_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1036={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 1036
			1036={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 1036
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1036={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_minas_gerais={
		icon = money
		available={
			1038 = {is_controlled_by = BRA}
			1038 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			1038 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build=no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_minas_gerais
			unlock_decision_tooltip = BRA_decision_coffee_economy_minas_gerais_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_minas_gerais_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_minas_gerais_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_minas_gerais_free_workers={
		icon = generic_civil_support
		allowed = {original_tag=BRA}
		available = {
			1038 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1038 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1038 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			1038={
				set_state_flag=coffee_economy_free_workers
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_minas_gerais_maua_company_workers={
		icon = gre_investment_decisions
		allowed = {original_tag=BRA}
		available = {
			1038 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1038 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1038 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			1038={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
					}
				}
			}
		}
	}
	
	
	BRA_decision_coffee_economy_minas_gerais_slave_workers={
		icon = generic_independence
		allowed = {original_tag=BRA}
		available = {
			#has_country_flag = brazil_coffee_economy_minas_gerais
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1038 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			1038={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	BRA_mission_coffee_economy_minas_gerais={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			1038 = {infrastructure > 4}
			owns_state = 1038
		}
		activation = { always = no }
		highlight_states={
			state = 1038
		}
		state_target = yes
		targets = { 1038 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			1038 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			1038 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					25 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_farm
						modifier = {
							add = 2
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -12
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -25
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_farm
						}
					}
					20 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_logging_camp
						modifier = {
							add = 1
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 10
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -15
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_logging_camp
						}
					}
					15={
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_coal_mine
						modifier = {
							add = 1
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -7
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -10
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_coal_mine
						}
					}
					15={
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_cotton_farm
						modifier = {
							add = 1
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -7
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -10
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_cotton_farm
						}
					}
					10 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_steel_mill
						modifier = {
							add = 0
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 12
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_steel_mill
						}
					}
					10 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_fabric_weavery
						modifier = {
							add = 0
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 12
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_fabric_weavery
						}
					}
					3 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_industrial_complex
						modifier = {
							add = -3
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 13
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					2 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_minas_gerais_arms_factory
						modifier = {
							add = -2
							1038 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							1038 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 13
							1038 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						1038={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_minas_gerais_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_minas_gerais_cotton_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = cotton_farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_minas_gerais_logging_camp={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_minas_gerais_coal_mine={
		icon = coal
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = coal_mine
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_minas_gerais_fabric_weavery={
		icon = generic_construction
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_minas_gerais_steel_mill={
		icon = steel
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag=coffee_economy_steel_mill
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag=coffee_economy_steel_mill
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = steel_mill
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_minas_gerais_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_minas_gerais_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1038={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 1038
			1038={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 1038
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1038={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_bahia={
		icon = money
		available={
			499 = {is_controlled_by = BRA}
			499 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			499 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build=no
				}
				add_building_construction = { 
					type = naval_base 
					level = 1
					province = 10946
					instant_build = no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_bahia
			unlock_decision_tooltip = BRA_decision_coffee_economy_bahia_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_bahia_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_bahia_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_bahia_free_workers={
		icon = generic_civil_support
		allowed = {original_tag=BRA}
		available = {
			499 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			499 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 499 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			499={
				set_state_flag=coffee_economy_free_workers
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
						state_production_speed_naval_base_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_bahia_maua_company_workers={
		icon = gre_investment_decisions
		allowed = {original_tag=BRA}
		available = {
			499 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			499 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 499 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			499={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
						state_production_speed_naval_base_factor = 0.35
					}
				}
			}
		}
	}
	
	
	BRA_decision_coffee_economy_bahia_slave_workers={
		icon = generic_independence
		allowed = {original_tag=BRA}
		available = {
			#has_country_flag = brazil_coffee_economy_bahia
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 499 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			499={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	BRA_mission_coffee_economy_bahia={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			499 = {infrastructure > 3}
			499 = {naval_base > 2}
			owns_state = 499
		}
		activation = { always = no }
		highlight_states={
			state = 499
		}
		state_target = yes
		targets = { 499 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			499 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			499 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					25 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_farm
						modifier = {
							add = 2
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -12
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -25
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_farm
						}
					}
					20 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_logging_camp
						modifier = {
							add = 1
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -10
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -15
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_logging_camp
						}
					}
					15={
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_coal_mine
						modifier = {
							add = 1
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -7
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -10
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_coal_mine
						}
					}
					20={
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_cotton_farm
						modifier = {
							add = 1
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -7
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -10
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_cotton_farm
						}
					}
					12 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_fabric_weavery
						modifier = {
							add = 0
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 12
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_fabric_weavery
						}
					}
					3 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_dockyard
						modifier = {
							add = 0
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 12
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_dockyard
						}
					}
					3 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_industrial_complex
						modifier = {
							add = -3
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 13
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					2 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_bahia_arms_factory
						modifier = {
							add = -2
							499 = {
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 9
							499 = {
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 13
							499 = {
								has_state_flag = coffee_economy_maua_company
							}
						}
						499={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_bahia_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_bahia_cotton_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag = coffee_economy_cotton_farm
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = cotton_farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_bahia_logging_camp={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_bahia_coal_mine={
		icon = coal
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = coal_mine
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_bahia_fabric_weavery={
		icon = generic_construction
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag = coffee_economy_fabric_weavery
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_bahia_dockyard={
		icon = generic_naval
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag=coffee_economy_dockyard
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag=coffee_economy_dockyard
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_bahia_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_bahia_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			499={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 499
			499={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 499
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			499={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_decision_coffee_economy_espirito_santo={
		icon = money
		available={
			1039 = {is_controlled_by = BRA}
			1039 = {
				NOT = {has_state_flag = coffee_economy}
			}
			has_completed_focus = BRA_the_coffee_boom
		}
		visible={
			has_completed_focus = BRA_the_coffee_boom
			tag = BRA
		}
		allowed={
			original_tag=BRA
		}
		cost=100
		complete_effect={
			1039 ={
				add_building_construction={
					type=infrastructure
					level = 1
					instant_build = no
				}
				add_building_construction = { 
					type = naval_base 
					level = 1
					province = 10999
					instant_build = no
				}
				set_state_flag={
					flag = coffee_economy
					days = 1600
					value = 1
				}
			}
			activate_mission = BRA_mission_coffee_economy_espirito_santo
			unlock_decision_tooltip = BRA_decision_coffee_economy_espirito_santo_free_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_espirito_santo_slave_workers
			unlock_decision_tooltip = BRA_decision_coffee_economy_espirito_santo_maua_company_workers
		}
	}
	
	BRA_decision_coffee_economy_espirito_santo_free_workers={
		icon = generic_civil_support
		allowed = {original_tag=BRA}
		available = {
			1039 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1039 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1039 }
		target_trigger={
			FROM={
				is_owned_by = ROOT
				has_state_flag = coffee_economy
			}
		}
		cost = 75
		days_remove = 28
		modifier = {
			weekly_manpower = -748
			consumer_goods_factor = 0.02
		}
		remove_effect={
			1039={
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				set_state_flag=coffee_economy_free_workers
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 2992
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.25
						state_production_speed_naval_base_factor = 0.25
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_espirito_santo_maua_company_workers={
		icon = gre_investment_decisions
		allowed = {original_tag=BRA}
		available = {
			1039 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			1039 = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1039 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 100
		days_remove = 28
		modifier = {
			weekly_manpower = -1001
			consumer_goods_factor = 0.03
		}
		remove_effect={
			1039={
				set_state_flag = coffee_economy_maua_company
				custom_effect_tooltip = AFR_Racial_Tension_minus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_decrease.1 } }
				add_manpower = 4004
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.35
						state_production_speed_naval_base_factor = 0.35
					}
				}
			}
		}
	}
	
	BRA_decision_coffee_economy_espirito_santo_slave_workers={
		icon = generic_independence
		allowed = {original_tag=BRA}
		available = {
			#has_country_flag = brazil_coffee_economy_espirito_santo
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		visible = {
			FROM = {
				has_state_flag = coffee_economy
				NOT = {
					OR={
						has_state_flag = coffee_economy_slave_workers
						has_state_flag = coffee_economy_free_workers
						has_state_flag = coffee_economy_maua_company
					}
				}
			}
		}
		state_target = yes
		targets = { 1039 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		cost = 50
		days_remove = 28
		modifier = {
			weekly_manpower = -520
			consumer_goods_factor = 0.01
		}
		remove_effect={
			1039={
				set_state_flag = coffee_economy_slave_workers
				custom_effect_tooltip = AFR_Racial_Tension_plus_1
				hidden_effect = { state_event = { id = afr_rrp_racial_tension_increase.1 }}
				add_manpower = 2080
				add_state_modifier = {
					modifier = {
						state_production_speed_infrastructure_factor = 0.15
						state_production_speed_naval_base_factor = 0.15
					}
				}
			}
		}
	}
	
	BRA_mission_coffee_economy_espirito_santo={
		icon = railway
		days_mission_timeout = 1600
		allowed={ always = no}
		available={
			1039 = {infrastructure > 3}
			1039 = {naval_base > 0}
			owns_state = 1039
		}
		activation = { always = no }
		highlight_states={
			state = 1039
		}
		state_target = yes
		targets = { 1039 }
		target_trigger={
			FROM={
				has_state_flag = coffee_economy
				is_owned_by = ROOT
			}
		}
		is_good=no
		selectable_mission=yes
		timeout_effect={
			1039 = {
				clr_state_flag = coffee_economy
				if={
					limit={ has_state_flag = coffee_economy_maua_company }
					clr_state_flag = coffee_economy_maua_company
				}
				else_if={
					limit={ has_state_flag = coffee_economy_slave_workers}
					clr_state_flag = coffee_economy_slave_workers
				}
				else_if={
					limit={ has_state_flag = coffee_economy_free_workers}
					clr_state_flag = coffee_economy_free_workers
				}
			}
			add_political_power= -100
			add_stability = -0.02
		}
		complete_effect={
			1039 = { 
				add_extra_state_shared_building_slots = 2
			}
			add_tech_bonus = { bonus = 0.25 uses = 1 category = transport_tech }
			random_list={
					48 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_farm
						modifier = {
							add = 4
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -24
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -48
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_farm
						}
					}
					24 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_logging_camp
						modifier = {
							add = 4
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -12
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -18
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_logging_camp
						}
					}
					12={
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_coal_mine
						modifier = {
							add = 4
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = -6
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = -9
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_coal_mine
						}
					}
					6 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_dockyard
						modifier = {
							add = -6
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_dockyard
						}
					}
					4 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_industrial_complex
						modifier = {
							add = -4
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 10
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_industrial_complex
						}
					}
					2 = {
						unlock_decision_tooltip = BRA_mission_coffee_economy_espirito_santo_arms_factory
						modifier = {
							add = -2
							1039 = { 
								has_state_flag = coffee_economy_slave_workers
							}
						}
						modifier = {
							add = 12
							1039 = { 
								has_state_flag = coffee_economy_free_workers
							}
						}
						modifier = {
							add = 25
							1039 = { 
								has_state_flag = coffee_economy_maua_company
							}
						}
						1039={
							set_state_flag=coffee_economy_arms_factory
						}
					}
				}
			if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy
					add_idea = BRA_coffee_economy2
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy2}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy2
					add_idea = BRA_coffee_economy3
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy3}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy3
					add_idea = BRA_coffee_economy4
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy4}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy4
					add_idea = BRA_coffee_economy5
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy5}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy5
					add_idea = BRA_coffee_economy6
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy6}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy6
					add_idea = BRA_coffee_economy7
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy7}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy7
					add_idea = BRA_coffee_economy8
				}
			}
			else_if = {
				limit = {
					BRA = {has_idea=BRA_coffee_economy8}
				}
				swap_ideas = {
					remove_idea = BRA_coffee_economy8
					add_idea = BRA_coffee_economy9
				}
			}
		}
	}

	BRA_mission_coffee_economy_espirito_santo_farm={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag=coffee_economy_farm
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag=coffee_economy_farm
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = farm
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_espirito_santo_logging_camp={
		icon = generic_construction
		days_remove = 90
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag = coffee_economy_logging_camp
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_espirito_santo_coal_mine={
		icon = coal
		days_remove = 180
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag = coffee_economy_coal_mine
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = coal_mine
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_espirito_santo_dockyard={
		icon = generic_naval
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag=coffee_economy_dockyard
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag=coffee_economy_dockyard
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}

	BRA_mission_coffee_economy_espirito_santo_industrial_complex={
		icon = generic_factory
		days_remove = 360
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag=coffee_economy_industrial_complex
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
	
	BRA_mission_coffee_economy_espirito_santo_arms_factory={
		icon = generic_industry
		days_remove = 720
		fire_only_once = yes
		allowed={ original_tag = BRA }
		visible={
			1039={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		available={
			owns_state = 1039
			1039={
				has_state_flag=coffee_economy_arms_factory
			}
		}
		highlight_states={
			state = 1039
		}
		is_good=yes
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect={
			1039={
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		complete_effect = {
			add_political_power = -50
		}
	}
}