war_measures = {
	SPR_mexican_expedition_begin_invasion = {
		icon = generic_prepare_civil_war
		available = {
			if = {
				limit = { SPR = { has_country_flag = SPR_mexican_intervention_flag } }
				if = {
					limit = { TAG = SPR }
					has_completed_focus = SPR_prepare_the_invasion
					if = {
						limit = { country_exists = FRA }
						has_completed_focus = SPR_ask_france_to_join
					}
					if = {
						limit = { country_exists = ENG }
						has_completed_focus = SPR_ask_gb_to_join
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_begin_invasion_ready_trigger
						AND = {
							if = {
								limit = { country_exists = USA }
								USA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = SPR }
								SPR = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = FRA }
								FRA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = ENG }
								ENG = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
						}
					}
				}
				else = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_begin_invasion_trigger
						always = no
					}
				}
			}
			else_if = {
				limit = { FRA = { has_country_flag = FRA_mexican_intervention_flag } }
				if = {
					limit = { TAG = FRA }
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_begin_invasion_ready_trigger
						AND = {
							if = {
								limit = { country_exists = USA }
								USA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = SPR }
								SPR = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = FRA }
								FRA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
							if = {
								limit = { country_exists = ENG }
								ENG = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							}
						}
					}
				}
				else = {
					custom_trigger_tooltip = {
						tooltip = FRA_mexican_expedition_begin_invasion_trigger
						always = no
					}
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_begin_invasion_ready_trigger
					AND = {
						if = {
							limit = { country_exists = USA }
							USA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
						}
						if = {
							limit = { country_exists = SPR }
							SPR = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
						}
						if = {
							limit = { country_exists = FRA }
							FRA = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
						}
						if = {
							limit = { country_exists = ENG }
							ENG = { has_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
						}
					}
				}
			}
		}
		activation = {
			has_global_flag = SPR_mexican_intervention_global_flag
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
			}
		}
		allowed = { 
			OR = {
				tag = SPR 
				tag = FRA
				tag = ENG
			}
		}
		selectable_mission = yes
		is_good = no
		fire_only_once = yes
		#cost = 0
		days_mission_timeout = 120
		complete_effect = {
			#Invasion Commences 
			country_event = { id = SPR_mexican_expedition.18 }
			hidden_effect = {
				USA = { clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
				SPR = { 
					clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
					clr_country_flag = SPR_mexican_expedition_initial_yes
				}
				FRA = { 
					clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
					clr_country_flag = SPR_mexican_expedition_initial_yes
				}
				ENG = { 
					clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
					clr_country_flag = SPR_mexican_expedition_initial_yes
				}
				if = {
					limit = { TAG = SPR }
					FRA = { remove_mission = SPR_mexican_expedition_begin_invasion }
					ENG = { remove_mission = SPR_mexican_expedition_begin_invasion }
				}
				else_if = {
					limit = { TAG = FRA }
					SPR = { remove_mission = SPR_mexican_expedition_begin_invasion }
					ENG = { remove_mission = SPR_mexican_expedition_begin_invasion }
				}
				else_if = {
					limit = { TAG = ENG }
					FRA = { remove_mission = SPR_mexican_expedition_begin_invasion }
					SPR = { remove_mission = SPR_mexican_expedition_begin_invasion }
				}
				clr_global_flag = SPR_mexican_intervention_global_flag
			}
		}
		timeout_effect = {
			#Spain Doesnt Have it's Shit Together
			hidden_effect = {
				if = {
					limit = { SPR = { has_country_flag = SPR_mexican_intervention_flag } }
					if = {
						limit = { TAG = SPR }
						custom_effect_tooltip = SPR_mexican_expedition_begin_invasion_timeout_tooltip
						clr_country_flag = SPR_mexican_intervention_flag
						clr_global_flag = SPR_mexican_intervention_flag
						if = {
							limit = { FRA = { has_country_flag = FRA_mexican_intervention_flag } }
							hidden_effect = { FRA = { activate_mission = SPR_mexican_expedition_begin_invasion } }
						}
						if = {
							limit = { ENG = { has_country_flag = ENG_mexican_intervention_flag } }
							hidden_effect = { ENG = { activate_mission = SPR_mexican_expedition_begin_invasion } }
						}
						if = {
							limit = { 
								FRA = { NOT = { has_country_flag = FRA_mexican_intervention_flag } }
								ENG = { NOT = { has_country_flag = ENG_mexican_intervention_flag } }
							}
							if = {
								limit = { 
									MEX = { 
										exists = yes
										has_country_flag = MEX_Debt_Intervention_Flag 
									} 
								}
								MEX = { country_event = { id = SPR_mexican_expedition.24 } }
							}
							else_if = {
								limit = {
									MEC = {
										exists = yes
										has_country_flag = MEX_Debt_Intervention_Flag 
									}
								}
								MEC = { country_event = { id = SPR_mexican_expedition.24 } }
							}
							USA = { clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							SPR = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							FRA = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							ENG = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							clr_global_flag = SPR_mexican_intervention_global_flag
						}
					}
				}
				else_if = {
					limit = { FRA = { has_country_flag = FRA_mexican_intervention_flag } }
					if = {
						limit = { TAG = SPR }
						custom_effect_tooltip = SPR_mexican_expedition_begin_invasion_timeout_tooltip
						clr_country_flag = SPR_mexican_intervention_flag
						clr_global_flag = SPR_mexican_intervention_flag
						if = {
							limit = { ENG = { has_country_flag = ENG_mexican_intervention_flag } }
							hidden_effect = { ENG = { activate_mission = SPR_mexican_expedition_begin_invasion } }
						}
						else_if = {
							limit = { 
								MEX = { 
									exists = yes
									has_country_flag = MEX_Debt_Intervention_Flag 
								} 
							}
							MEX = { country_event = { id = SPR_mexican_expedition.24 } }
							USA = { clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							SPR = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							FRA = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							ENG = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							clr_global_flag = SPR_mexican_intervention_global_flag
						}
						else_if = {
							limit = {
								MEC = {
									exists = yes
									has_country_flag = MEX_Debt_Intervention_Flag 
								}
							}
							MEC = { country_event = { id = SPR_mexican_expedition.24 } }
							USA = { clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
							SPR = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							FRA = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							ENG = { 
								clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
								clr_country_flag = SPR_mexican_expedition_initial_yes
							}
							clr_global_flag = SPR_mexican_intervention_global_flag
						}
					}
				}
				else = {
					if = {
						limit = { SPR = { has_country_flag = SPR_mexican_intervention_flag } }
						SPR = { country_event = { id = SPR_mexican_expedition.23 } }
					}
					if = {
						limit = { FRA = { has_country_flag = FRA_mexican_intervention_flag } }
						FRA = { country_event = { id = SPR_mexican_expedition.23 } }
					}
					if = {
						limit = { ENG = { has_country_flag = ENG_mexican_intervention_flag } }
						ENG = { country_event = { id = SPR_mexican_expedition.23 } }
					}
					if = {
						limit = { 
							MEX = { 
								exists = yes
								has_country_flag = MEX_Debt_Intervention_Flag 
							} 
						}
						MEX = { country_event = { id = SPR_mexican_expedition.24 } }
					}
					else_if = {
						limit = {
							MEC = {
								exists = yes
								has_country_flag = MEX_Debt_Intervention_Flag 
							}
						}
						MEC = { country_event = { id = SPR_mexican_expedition.24 } }
					}
					USA = { clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag }
					SPR = { 
						clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
						clr_country_flag = SPR_mexican_expedition_initial_yes
					}
					FRA = { 
						clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
						clr_country_flag = SPR_mexican_expedition_initial_yes
					}
					ENG = { 
						clr_country_flag = SPR_mexican_expedition_begin_invasion_ready_flag 
						clr_country_flag = SPR_mexican_expedition_initial_yes
					}
					clr_global_flag = SPR_mexican_intervention_global_flag
				}
			}
		}
	}
#----------------------------------------------------------
#The Imperials take Port Veracruz
#----------------------------------------------------------
	SPR_mexican_expedition_take_port_mission = {
		icon = generic_naval
		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = {
					NOT = {
						TAG = MEX
						TAG = MEC
					}
				}
				477 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						OWNER = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
							}
						}
					}
				}
			}
			else = {
				hidden_trigger = { always = no }
				477 = { OWNER = { controls_state = PREV } }
			}
		}
		
		allowed = { 
			OR = { 
				TAG = SPR
				TAG = FRA
				TAG = ENG
				TAG = MEX
				TAG = MEC
			}
		}
		activation = { 
			NOT = { set_global_flag = SPR_mexican_expedition_veracruz_landing }
			NOT = { has_global_flag = SPR_mexican_expedition_capital_taken }
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
				has_country_flag = MEX_Debt_Intervention_Flag
			}
			OR = {
				MEX = { has_country_flag = MEX_Debt_Intervention_Flag }
				MEC = { has_country_flag = MEX_Debt_Intervention_Flag }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		highlight_states = {
			STATE = 477	
		}
		
		complete_effect = {
			#Europeans Take the Port
			#hidden_effect = {
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.364 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.364 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.364 } }
				}
			#}
		}
		
		timeout_effect = {
			#Mexico Holds Out
			#hidden_effect = {
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = { 
						TAG = MEX
						MEX = { 
							exists = yes
							has_country_flag = MEX_Debt_Intervention_Flag 
						} 
					}
					MEX = { country_event = { id = SPR_mexican_expedition.24 } }
				}
				else_if = {
					limit = {
						TAG = MEC
						MEC = {
							exists = yes
							has_country_flag = MEX_Debt_Intervention_Flag 
						}
					}
					MEC = { country_event = { id = SPR_mexican_expedition.24 } }
				}
			#}
		}
	}
#----------------------------------------------------------
#The Imperials take the Mexico City
#----------------------------------------------------------
	SPR_mexican_expedition_take_capital_mission = {
		icon = generic_prepare_civil_war
		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = {
					NOT = {
						TAG = MEX
						TAG = MEC
					}
				}
				277 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						OWNER = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
							}
						}
					}
				}
			}
			else = {
				hidden_trigger = { always = no }
				277 = { OWNER = { controls_state = PREV } }
			}
		}
		
		allowed = { 
			OR = { 
				TAG = SPR
				TAG = FRA
				TAG = ENG
				TAG = MEX
				TAG = MEC
			}
		}
		activation = { 
			has_global_flag = SPR_mexican_expedition_veracruz_landing
			NOT = { has_global_flag = SPR_mexican_expedition_capital_taken }
			NOT = { has_global_flag = SPR_mexican_expedition_capital_defended }
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
				has_country_flag = MEX_Debt_Intervention_Flag
			}
			OR = {
				MEX = { has_country_flag = MEX_Debt_Intervention_Flag }
				MEC = { has_country_flag = MEX_Debt_Intervention_Flag }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		highlight_states = {
			STATE = 277	
		}
		
		complete_effect = {
			#Europeans Take the Port
			#hidden_effect = {
				clr_global_flag = SPR_mexican_expedition_veracruz_landing
				set_global_flag = SPR_mexican_expedition_capital_taken
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.3612 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.3612 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.3612 } }
				}
			#}
		}
		
		timeout_effect = {
			#Mexico Holds Out
			#hidden_effect = {
				clr_global_flag = SPR_mexican_expedition_veracruz_landing
				set_global_flag = SPR_mexican_expedition_capital_defended
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.23 } }
				}
				if = {
					limit = { 
						TAG = MEX
						MEX = { 
							exists = yes
							has_country_flag = MEX_Debt_Intervention_Flag 
						} 
					}
					MEX = { country_event = { id = SPR_mexican_expedition.24 } }
				}
				else_if = {
					limit = {
						TAG = MEC
						MEC = {
							exists = yes
							has_country_flag = MEX_Debt_Intervention_Flag 
						}
					}
					MEC = { country_event = { id = SPR_mexican_expedition.24 } }
				}
			#}
		}
	}
#----------------------------------------------------------
#The Imperials take the North
#----------------------------------------------------------
	SPR_mexican_expedition_take_northern_states_mission = {
		icon = border_war
		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = {
					NOT = {
						TAG = MEX
						TAG = MEC
					}
				}
				479 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						MEX = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
											TAG = MXE
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
								TAG = MXE
							}
						}
					}
				}
				480 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						MEX = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
											TAG = MXE
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
								TAG = MXE
							}
						}
					}
				}
				482 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						MEX = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
											TAG = MXE
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
								TAG = MXE
							}
						}
					}
				}
			}
			else = {
				hidden_trigger = { always = no }
				479 = { MEX = { controls_state = PREV } }
				480 = { MEX = { controls_state = PREV } }
				482 = { MEX = { controls_state = PREV } }
			}
		}
		
		allowed = { 
			OR = { 
				TAG = SPR
				TAG = FRA
				TAG = ENG
				TAG = MEX
				TAG = MEC
				TAG = MXE
			}
		}
		activation = { 
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
				has_country_flag = MXE_empire_civil_war
			}
			OR = {
				MEX = { has_country_flag = MXE_empire_civil_war }
				MEC = { has_country_flag = MXE_empire_civil_war }
				MXE = { has_country_flag = MXE_empire_civil_war }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		highlight_states = {
			STATE = 479
			STATE = 480
			STATE = 482
		}
		
		complete_effect = {
			#hidden_effect = {
				if = {
					limit = { 
						TAG = MEX
						MEX = { 
							exists = yes
						} 
					}
					MEX = { country_event = { id = SPR_mexican_expedition.3632 } }
				}
				else_if = {
					limit = {
						TAG = MEC
						MEC = {
							exists = yes
						}
					}
					MEC = { country_event = { id = SPR_mexican_expedition.3632 } }
				}
			#}
		}
		
		timeout_effect = {
			
		}
	}
#----------------------------------------------------------
#The Republicans take Mexico City
#----------------------------------------------------------
	SPR_mexican_expedition_take_mexico_city_mission = {
		icon = generic_prepare_civil_war
		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = {
					NOT = {
						TAG = MEX
						TAG = MEC
					}
				}
				277 = {
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_not_controlled_trigger
						MEX = { NOT = { controls_state = PREV } }
					}
					custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
						any_country = {
							controls_state = PREV
							OR = {
								AND = {
									is_subject = yes
									OVERLORD = {
										OR = {
											has_country_flag = SPR_mexican_intervention_flag
											has_country_flag = FRA_mexican_intervention_flag
											has_country_flag = ENG_mexican_intervention_flag
											TAG = MXE
										}
									}
								}
								has_country_flag = SPR_mexican_intervention_flag
								has_country_flag = FRA_mexican_intervention_flag
								has_country_flag = ENG_mexican_intervention_flag
								TAG = MXE
							}
						}
					}
				}
			}
			else = {
				hidden_trigger = { always = no }
				277 = {
					MEX = { controls_state = PREV }
				}
			}
		}
		
		allowed = { 
			OR = { 
				TAG = SPR
				TAG = FRA
				TAG = ENG
				TAG = MEX
				TAG = MEC
				TAG = MXE
			}
		}
		activation = { 
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
				has_country_flag = MXE_empire_civil_war
			}
			OR = {
				MEX = { has_country_flag = MXE_empire_civil_war }
				MEC = { has_country_flag = MXE_empire_civil_war }
				MXE = { has_country_flag = MXE_empire_civil_war }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		highlight_states = {
			STATE = 277
		}
		
		complete_effect = {
			#hidden_effect = {
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.3629 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.3629 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.3629 } }
				}
				MEX = { country_event = { id = SPR_mexican_expedition.3629 } }
			#}
			
		}
		
		timeout_effect = {
			
		}
	}
#----------------------------------------------------------
#Republican Triumph
#----------------------------------------------------------
	SPR_mexican_expedition_republican_triumph_mission = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			if = {
				limit = { MEX = { exists = yes } }
				277 = { is_fully_controlled_by = MEX }
				477 = { is_fully_controlled_by = MEX }
				478 = { is_fully_controlled_by = MEX }
				479 = { is_fully_controlled_by = MEX }
				480 = { is_fully_controlled_by = MEX }
				481 = { is_fully_controlled_by = MEX }
				482 = { is_fully_controlled_by = MEX }
				1112 = { is_fully_controlled_by = MEX }
				1113 = { is_fully_controlled_by = MEX }
				1124 = { is_fully_controlled_by = MEX }
			}
			else_if = {
				limit = { MEC = { exists = yes } }
				277 = { is_fully_controlled_by = MEC }
				477 = { is_fully_controlled_by = MEC }
				478 = { is_fully_controlled_by = MEC }
				479 = { is_fully_controlled_by = MEC }
				480 = { is_fully_controlled_by = MEC }
				481 = { is_fully_controlled_by = MEC }
				482 = { is_fully_controlled_by = MEC }
				1112 = { is_fully_controlled_by = MEC }
				1113 = { is_fully_controlled_by = MEC }
				1124 = { is_fully_controlled_by = MEC }
			}
			MXE = { surrender_progress > 0.7 }
		}
		
		allowed = { 
			OR = { 
				TAG = MEX
				TAG = MEC
			}
		}
		activation = { 
			OR = {
				MEX = { has_country_flag = MXE_empire_civil_war }
				MEC = { has_country_flag = MXE_empire_civil_war }
				MXE = { has_country_flag = MXE_empire_civil_war }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		complete_effect = {
			#hidden_effect = {
				if = {
					limit = { 
						TAG = MEX
						MEX = { 
							exists = yes
						} 
					}
					MEX = { country_event = { id = SPR_mexican_expedition.3634 } }
				}
				else_if = {
					limit = {
						TAG = MEC
						MEC = {
							exists = yes
						}
					}
					MEC = { country_event = { id = SPR_mexican_expedition.3634 } }
				}
			#}
		}
		
		timeout_effect = {
			
		}
	}
#----------------------------------------------------------
#Imperial Triumph
#----------------------------------------------------------
	SPR_mexican_expedition_imperial_triumph_mission = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			277 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			477 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			478 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			479 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			480 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			481 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			482 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			1112 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			1113 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			1124 = {
				custom_trigger_tooltip = {
					tooltip = SPR_mexican_expedition_state_not_controlled_trigger
					MEX = { NOT = { controls_state = PREV } }
				}
				custom_trigger_tooltip = {
						tooltip = SPR_mexican_expedition_state_controlled_trigger
					any_country = {
						controls_state = PREV
						OR = {
							AND = {
								is_subject = yes
								OVERLORD = {
									OR = {
										has_country_flag = SPR_mexican_intervention_flag
										has_country_flag = FRA_mexican_intervention_flag
										has_country_flag = ENG_mexican_intervention_flag
										TAG = MXE
									}
								}
							}
							has_country_flag = SPR_mexican_intervention_flag
							has_country_flag = FRA_mexican_intervention_flag
							has_country_flag = ENG_mexican_intervention_flag
							TAG = MXE
						}
					}
				}
			}
			if = {
				limit = { MEX = { exists = yes } }
				MEX = { surrender_progress > 0.7 }
			}
			else_if = {
				limit = { MEC = { exists = yes } }
				MEC = { surrender_progress > 0.7 }
			}
		}
		
		allowed = { 
			OR = { 
				TAG = SPR
				TAG = FRA
				TAG = ENG
				TAG = MXE
			}
		}
		activation = { 
			OR = {
				has_country_flag = SPR_mexican_intervention_flag
				has_country_flag = FRA_mexican_intervention_flag
				has_country_flag = ENG_mexican_intervention_flag
				has_country_flag = MXE_empire_civil_war
			}
			OR = {
				MEX = { has_country_flag = MXE_empire_civil_war }
				MEC = { has_country_flag = MXE_empire_civil_war }
				MXE = { has_country_flag = MXE_empire_civil_war }
			}
		}
		selectable_mission = no
		is_good = no
		
		fire_only_once = yes

		#cost = 0
		
		days_mission_timeout = 365
		
		complete_effect = {
			#hidden_effect = {
				if = {
					limit = {
						TAG = SPR
						SPR = { has_country_flag = SPR_mexican_intervention_flag } 
					}
					SPR = { country_event = { id = SPR_mexican_expedition.3635 } }
				}
				if = {
					limit = {
						TAG = FRA
						FRA = { has_country_flag = FRA_mexican_intervention_flag } 
					}
					FRA = { country_event = { id = SPR_mexican_expedition.3635 } }
				}
				if = {
					limit = {
						TAG = ENG
						ENG = { has_country_flag = ENG_mexican_intervention_flag } 
					}
					ENG = { country_event = { id = SPR_mexican_expedition.3635 } }
				}
				if = {
					limit = {
						TAG = MXE
					}
					MXE = { country_event = { id = SPR_mexican_expedition.3635 } }
				}
			#}
		}
		
		timeout_effect = {
			
		}
	}
}