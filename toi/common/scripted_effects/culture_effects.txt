#German culture set up  
german_culture_setup = {
    set_variable = { global.austro_bavarian = 1 }
	set_variable = { global.westphalian = 2 }
	set_variable = { global.lower_saxon = 3 }
	set_variable = { global.saxon = 4 }
	set_variable = { global.swabian = 5 }
	set_variable = { global.alsatian = 6 }
	set_variable = { global.rhenish = 7 }
	set_variable = { global.luxembourgish = 8 }
	set_variable = { global.silesian = 9 }
	set_variable = { global.alemmanic = 10 }
	set_variable = { global.transylvania_saxon = 11 }
	set_variable = { global.volga_german = 12 }
	set_variable = { global.branderburg-prussian = 13 }
	set_variable = { global.baltic_german = 14 }
	set_variable = { global.bukovina_german = 15 }
	
	add_to_array = { global.german_array = global.austro_bavarian }
	add_to_array = { global.german_array = global.westphalian }
	add_to_array = { global.german_array = global.lower_saxon }
	add_to_array = { global.german_array = global.saxon }
	add_to_array = { global.german_array = global.swabian }
	add_to_array = { global.german_array = global.alsatian }
	add_to_array = { global.german_array = global.rhenish }
	add_to_array = { global.german_array = global.luxembourgish }
	add_to_array = { global.german_array = global.silesian }
	add_to_array = { global.german_array = global.alemmanic }
	add_to_array = { global.german_array = global.transylvania_saxon }
	add_to_array = { global.german_array = global.volga_german }		
	add_to_array = { global.german_array = global.branderburg-prussian }
	add_to_array = { global.german_array = global.baltic_german }
	add_to_array = { global.german_array = global.bukovina_german }		
}

#British culture set up  
british_culture_setup = {
    set_variable = { global.english = 16 }
	set_variable = { global.lowland_scots = 17 }
	set_variable = { global.ulster_scots = 18 }
	
	add_to_array = { global.britannic_array = global.english }
	add_to_array = { global.britannic_array = global.lowland_scots }
	add_to_array = { global.britannic_array = global.ulster_scots }	
}

#Dutch culture set up  
dutch_culture_setup = {
    set_variable = { global.dutch = 19 }
	set_variable = { global.flemish = 20 }
	set_variable = { global.frisian = 21 }
	set_variable = { global.afrikaans = 22 }
	
	add_to_array = { global.dutch_array = global.dutch }
	add_to_array = { global.dutch_array = global.flemish }
	add_to_array = { global.dutch_array = global.frisian }	
	add_to_array = { global.dutch_array = global.afrikaans }
}

#Scandinavian culture set up  
scandinavian_culture_setup = {
    set_variable = { global.finnish = 23 }
	set_variable = { global.karelian = 24 }
	set_variable = { global.estonian = 25 }
	set_variable = { global.swedish = 26 }
    set_variable = { global.danish = 27 }
	set_variable = { global.icelandic = 28 }
	set_variable = { global.norwegian = 29 }
	
	add_to_array = { global.finnish_array = global.finnish }
	add_to_array = { global.finnish_array = global.karelian }
	add_to_array = { global.estonian_array = global.estonian }	
	add_to_array = { global.swedish_array = global.swedish }
	add_to_array = { global.danish_array = global.danish }
	add_to_array = { global.norwegian_array = global.icelandic }
	add_to_array = { global.norwegian_array = global.norwegian }	
}

#French culture set up  
french_culture_setup = {
    set_variable = { global.french = 30 }
	set_variable = { global.occitan = 31 }
	set_variable = { global.picard = 32 }
	set_variable = { global.walloon = 33 }
    set_variable = { global.arpitan = 34 }
	
	add_to_array = { global.french_array = global.french }
	add_to_array = { global.french_array = global.occitan }
	add_to_array = { global.french_array = global.picard }	
	add_to_array = { global.french_array = global.walloon }
	add_to_array = { global.french_array = global.arpitan }
}

#Italian culture set up  
italian_culture_setup = {
    set_variable = { global.tuscan = 35 }
	set_variable = { global.lombard = 36 }
	set_variable = { global.venetian = 37 }
	set_variable = { global.napolitean = 38 }
    set_variable = { global.sicilian = 39 }
    set_variable = { global.piedmontese = 40 }
	set_variable = { global.central_italian = 41 }
	set_variable = { global.dalmatian = 42 }
	set_variable = { global.sardinian = 43 }
	set_variable = { global.corsican = 44 }
	
	add_to_array = { global.italian_array = global.tuscan }
	add_to_array = { global.italian_array = global.lombard }
	add_to_array = { global.italian_array = global.venetian }	
	add_to_array = { global.italian_array = global.napolitean }
	add_to_array = { global.italian_array = global.sicilian }
	add_to_array = { global.italian_array = global.piedmontese }
	add_to_array = { global.italian_array = global.central_italian }
	add_to_array = { global.italian_array = global.dalmatian }	
	add_to_array = { global.italian_array = global.sardinian }
	add_to_array = { global.italian_array = global.corsican }
}

#Iberian cultures set up  
iberian_culture_setup = {
    set_variable = { global.castillian = 45 }
	set_variable = { global.catalonian = 46 }
	set_variable = { global.aragonese = 47 }
	set_variable = { global.andalusian = 48 }
    set_variable = { global.basque = 49 }
    set_variable = { global.galician = 50 }
	set_variable = { global.portuguese = 51 }
	
	add_to_array = { global.spanish_array = global.castillian }
	add_to_array = { global.spanish_array = global.catalonian }
	add_to_array = { global.spanish_array = global.aragonese }	
	add_to_array = { global.spanish_array = global.andalusian }
	add_to_array = { global.spanish_array = global.basque }
	add_to_array = { global.portuguese_array = global.galician }
	add_to_array = { global.portuguese_array = global.portuguese }
}

#Greek culture set up  
greek_culture_setup = {
    set_variable = { global.greek = 52 }
	set_variable = { global.pontic = 53 }
	set_variable = { global.cypriot_greek = 54 }
	set_variable = { global.cappadocian_greek = 55 }
    set_variable = { global.pomak = 56 }
    set_variable = { global.arvanite = 57 }
	set_variable = { global.vlach_greek = 58 }
	
	add_to_array = { global.greek_array = global.greek }
	add_to_array = { global.greek_array = global.pontic }
	add_to_array = { global.greek_array = global.cypriot_greek }	
	add_to_array = { global.greek_array = global.cappadocian_greek }
	add_to_array = { global.greek_array = global.pomak }
	add_to_array = { global.greek_array = global.arvanite }
	add_to_array = { global.greek_array = global.vlach_greek }
}

#Albanian culture set up  
albanian_culture_setup = {
    set_variable = { global.albanian = 59 }
	set_variable = { global.kosovar = 60 }
	set_variable = { global.cham = 61 }	
	set_variable = { global.arbereshe = 62 }
	
	add_to_array = { global.albanian_array = global.albanian }
	add_to_array = { global.albanian_array = global.kosovar }
	add_to_array = { global.albanian_array = global.cham }	
	add_to_array = { global.albanian_array = global.arbereshe }
}

#Serbian culture set up
serbian_culture_setup = {
	set_variable = { glοbal.serbian = 63 }
	set_variable = { global.bosnian_serbian = 64 }
	set_variable = { global.montenegrin = 65 }
	
	add_to_array = { global.serbian_array = global.serbian }
	add_to_array = { global.serbian_array = global.bosnian_serbian }
	add_to_array = { global.serbian_array = global.montenegrin }
}

#Bulgarian culture set up
bulgarian_culture_setup = {
	set_variable = { glοbal.bulgarian = 66 }
	set_variable = { global.slav_macedonian = 67 }
	set_variable = { global.torlaks = 68 }
	
	add_to_array = { global.bulgarian_array = global.bulgarian }
	add_to_array = { global.bulgarian_array = global.slav_macedonian }
	add_to_array = { global.bulgarian_array = global.torlaks }
}

#Croatian culture set up
croat_culture_setup = {
	set_variable = { global.croat = 69 }
	set_variable = { global.bosnian_croat = 70 }
	
	add_to_array = { global.croat_array = global.croat }
	add_to_array = { global.croat_array = global.bosnian_croat } 
}

#Slovenian culture set up
slovene_culture_setup = { 
	set_variable = { global.slovenian = 71 }
	set_variable = { global.carinthian_slovene = 72 }
	set_variable = { global.bosniak = 73 }
	
	add_to_array = { global.slovene_array = global.slovenian }
	add_to_array = { global.slovene_array = global.carinthian_slovene }
	add_to_array = { global.bosniak_array = global.bosniak }
}

#Czecho-slovak culture set up
czechoslovak_culture_setup = {
	set_variable = { global.bohemian = 74 }
	set_variable = { global.moravian = 75 }
	set_variable = { global.slovak = 76 }
	
	add_to_array = { global.czechoslovak_array = global.bohemian }
	add_to_array = { global.czechoslovak_array = global.moravian } 
	add_to_array = { global.czechoslovak_array = global.slovak }

}

#Lechitic culture set up
lechitic_culture_setup = {
	set_variable = { global.polish = 77 }
	set_variable = { global.mazovian = 78 }
	set_variable = { global.silesian_polish = 79 }
	set_variable = { global.galician_polish = 80 }
	set_variable = { global.kashubian = 81 }
	set_variable = { global.sorbian = 82 }
	
	add_to_array = { global.lechitic_array = global.polish }
	add_to_array = { global.lechitic_array = global.mazovian }
	add_to_array = { global.lechitic_array = global.silesian_polish }
	add_to_array = { global.lechitic_array = global.galician_polish }
	add_to_array = { global.lechitic_array = global.kashubian }
	add_to_array = { global.lechitic_array = global.sorbian }
	
}

#Hungarian culture set up
hungarian_culture_setup = {
	set_variable = { global.magyar = 83 }
	set_variable = { global.szekelys = 84 }
	
	add_to_array = { global.hungarian_array = global.magyar }
	add_to_array = { global.hungarian_array = global.szekelys }
}

#Russian culture set up
russian_culture_setup = {
	set_variable = { global.byelorussian = 85 }
	set_variable = { global.velikorossy = 86 }
	set_variable = { global.malorossy = 87 }
	
	add_to_array = { global.russian_array = global.byelorussian }
	add_to_array = { global.russian_array = global.velikorossy }
	add_to_array = { global.russian_array = global.malorossy }
}

#Ukrainian culture set up
ukrainian_culture_setup = { 
	set_variable = { global.ukrainian = 88 }
	set_variable = { global.rusyn = 89 }
	
	add_to_array = { global.ukrainian_array = global.ukrainian }
	add_to_array = { global.ukrainian_array = global.rusyn }

}

#Gaelic culture set up
gaelic_culture_setup = {
	set_variable = { global.irish = 90 }
	set_variable = { global.highland_scots = 91 }
	
	add_to_array = { global.gaelic_array = global.irish }
	add_to_array = { global.gaelic_array = global.highland_scots }

}


#britannic culture set up  
insular_britannic_culture_setup = {
    set_variable = { global.manx = 92 }
	set_variable = { global.welsh = 93 }
	set_variable = { global.cornish = 94 }
	set_variable = { global.breton = 95 }
	
	add_to_array = { global.insular_celtic_array = global.manx }
	add_to_array = { global.insular_celtic_array = global.welsh }
	add_to_array = { global.insular_celtic_array = global.cornish }
	add_to_array = { global.breton_array = global.breton }
}

#romanian culture set up
romanian_culture_setup = {
	set_variable = { global.wallachian = 96 }
	set_variable = { global.moldovan = 97 }
	set_variable = { global.moldavian = 98 }
	
	add_to_array = { global.romanian_array = global.wallachian }
	add_to_array = { global.romanian_array = global.moldovan }
	add_to_array = { global.romanian_array = global.moldavian }
}

#baltic culture set up
baltic_culture_setup = {
	set_variable = { global.lithuanian = 99 }
	set_variable = { global.latvian = 100 }
	set_variable = { global.texan = 101 }
	set_variable = { global.yankee = 102 }
	set_variable = { global.mexican = 103 }
	set_variable = { global.dixie = 104 }
	set_variable = { global.turkish = 105 }
	set_variable = { global.japanese = 106 }
	set_variable = { global.chinese = 107 }
	set_variable = { global.korean = 108 }
	set_variable = { global.brazilian = 109 }
	
	add_to_array = { global.baltic_array = global.lithuanian }
	add_to_array = { global.baltic_array = global.latvian }
	
	add_to_array = { global.anglo_american_array = global.yankee }
	add_to_array = { global.anglo_american_array = global.texan }
	add_to_array = { global.anglo_american_array = global.dixie }
	add_to_array = { global.mexican_array = global.mexican }
	add_to_array = { global.turkic_array = global.turkish }
	add_to_array = { global.chinese_array = global.japanese }
	add_to_array = { global.japanese_array = global.chinese }
	add_to_array = { global.korean_array = global.korean }
	add_to_array = { global.luso_american_array = global.brazilian }
	
}



religion_setup = {
    set_variable = { global.orthodoxy = 1 }
	set_variable = { global.catholicism = 2 }
	set_variable = { global.protestant = 3 }
	set_variable = { global.coptic = 4 }
	set_variable = { global.jewish = 5 }
	set_variable = { global.sunni = 6 }
	set_variable = { global.shiite = 7 }
	set_variable = { global.ibadi = 8 }
	set_variable = { global.mahayana = 9 }
	set_variable = { global.gelugpa = 10 }
	set_variable = { global.theravada = 11 }
	set_variable = { global.shinto = 12 }
	set_variable = { global.hindu = 13 }
	set_variable = { global.sikh = 14 }
	set_variable = { global.animist = 15 }	
	set_variable = { global.pagan = 16 }	
	set_variable = { global.secular = 17 }	
}

countries_culture_religion_setup = {
	AUS = {
		add_to_array = { national_culture_array = global.austro_bavarian }
		add_to_array = { national_religion_array = global.catholicism }
	}
	PRS = {
        add_to_array = { national_culture_array = global.branderburg-prussian }
		add_to_array = { national_religion_array = global.protestant }
	}
	BAV = {
		add_to_array = { national_culture_array = global.austro_bavarian }
		add_to_array = { national_religion_array = global.catholicism }			
	}
	WUR = {
		add_to_array = { national_culture_array = global.swabian }
		add_to_array = { national_religion_array = global.protestant }
        add_to_array = { national_religion_array = global.catholicism }						
	}
	BAD = {
		add_to_array = { national_culture_array = global.alemmanic }
		add_to_array = { national_religion_array = global.protestant }
        add_to_array = { national_religion_array = global.catholicism }						
	}
	THU = {
		add_to_array = { national_culture_array = global.saxon }
		add_to_array = { national_religion_array = global.protestant }				
	}
	ENG = { 
		add_to_array = { national_culture_array = global.english }
		add_to_array = { national_religion_array = global.protestant }				
	}
}

calculate_country_cultures = {
    clear_array = national_culture_array_2_num
    resize_array = {
        array = national_culture_array_2_num
        value = 0
        size = national_culture_array_2^i
    }
    every_owned_state = {
        for_each_loop = {
            array = state_culture_array
			value = v
            index = i
            find_current_culture_in_country_cultures_array = yes
            if = {
                limit = {
                    check_variable = { current_culture_index > -1 }
                }
                add_to_variable = { PREV.national_culture_array_2_num^current_culture_index = state_culture_array_num^i }
				log = "state_culture_array_num_value: [?state_culture_array_num^i]"
            }
			print_variables = {
    file = log_file
    text = culture_variables
    append = yes
    print_global = no 
}
        }
    }
}

find_current_culture_in_country_cultures_array = {
    set_temp_variable = { current_culture_index = -1 }
    for_each_loop = {
        array = PREV.national_culture_array_2
        value = vv
        index = ii
        if = {
            limit = { check_variable = { vv = v } }
            set_temp_variable = { current_culture_index = vv }
            set_temp_variable = { break = 1 }
			log = "current_culture_index_works: [?current_culture_index]"
        }
    }
}
