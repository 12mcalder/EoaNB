scripted_gui = {

	austria_hungary_gui_open = {
		context_type = player_context
		
		window_name = "austria_hungary_gui_open"	
		
		visible = {
		    tag = AUS 
            has_country_flag = AUS_flag_hun_dual_monarchy  			
		}
		 
		effects = {
		    open_a_h_gui_button_click = {
                    clear_variable = AUS_HUN_cisleithania_pop_var  			
					clear_variable = AUS_HUN_transleithania_pop_var  
			        clear_array = AUS.AUS_HUN_transleithania_pop_array
					clear_array = AUS.AUS_HUN_cisleithania_pop_array
				    every_owned_state = {
					    if = {
					        limit = { is_core_of = HUN }
							#clear_array = AUS.AUS_HUN_transleithania_pop_array
						
                            set_temp_variable = { state_population_m = state_population_k }
							add_to_variable = { AUS.AUS_HUN_transleithania_pop_var = state_population_k }
                            #divide_temp_variable = { state_population_m = 100 }										
						    add_to_array = { AUS.AUS_HUN_transleithania_pop_array = state_population_m }
						}	
						else = {
						    #clear_array = AUS.AUS_HUN_cisleithania_pop_array
							
                            set_temp_variable = { state_population_m = state_population_k }
							add_to_variable = { AUS.AUS_HUN_cisleithania_pop_var = state_population_k }
                            #divide_temp_variable = { state_population_m = 100 }		
						    add_to_array = { AUS.AUS_HUN_cisleithania_pop_array = state_population_m }						
						}
					}
					divide_variable = { AUS_HUN_cisleithania_pop_var = 1000 }
					divide_variable = { AUS_HUN_transleithania_pop_var = 1000 }
                set_temp_variable = { show = 1 }
                subtract_from_temp_variable = { show = show_a_h_gui }
                set_variable = { show_a_h_gui = show }						
			}
		}
		
		triggers = {
		}
		
		properties = {
		}

		ai_weights = {
		}
	}

	austria_hungary_gui = {
		context_type = player_context
		
		window_name = "austria_hungary_gui"	
		 
		visible = {  		
            check_variable = {
			        show_a_h_gui > 0 
			}			
		}
		 
		effects = {
		    close_3_click = {
			    ROOT = {
                    set_temp_variable = { show = 1 }
                    subtract_from_temp_variable = { show = show_a_h_gui }
                    set_variable = { show_a_h_gui = show }
			    }			
			}
		}
		
		triggers = {
		}
		
		properties = {
			prime_minister_portrait = { 
			    image = "[GetAUHungarianPMPortrait]"
			} 
			minister_president_portrait = { 
			    image = "[GetAUHAustrianMPPortrait]" 
			}
		}

		ai_weights = {
		}
	}
	
}