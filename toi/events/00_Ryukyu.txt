add_namespace = RYU_open_trade
add_namespace = RYU_bernard_bettelheim
add_namespace = RYU_bernard_bettelheim_success
add_namespace = RYU_sho_coup_satsuma
add_namespace = RYU_sho_coup
add_namespace = RYU_sho_coup_victory
add_namespace = RYU_sho_coup_defeat
add_namespace = ryukyu
	
country_event = {
	id = ryukyu.1
	title = ryukyu.1.t
	desc = ryukyu.1.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = no
	hidden = yes
	trigger = {
		RYU = { has_full_control_of_state = 526 }
		RYU = { has_country_flag = RYU_Civil_War }
	}
	mean_time_to_happen = {days = 3 }
	
	immediate = { 
		RYU = { clr_country_flag = RYU_Civil_War }
		RYU = { country_event = RYU_sho_coup_victory.1 }
		SAT = { country_event = RYU_sho_coup_victory.2 }
		ENG = { country_event = RYU_sho_coup_victory.5 }
		USA = { country_event = RYU_sho_coup_victory.5 }
		FRA = { country_event = RYU_sho_coup_victory.5 }
	}
}

country_event = {
	id = ryukyu.2
	title = ryukyu.2.t
	desc = ryukyu.2.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = no
	hidden = yes
	trigger = {
		SAT = { has_full_control_of_state = 526 }
		RYU = { has_country_flag = RYU_Civil_War }
	}
	mean_time_to_happen = {days = 3 }
	
	immediate = { 
		RYU = { clr_country_flag = RYU_Civil_War }
		RYU = { country_event = RYU_sho_coup_defeat.1 }
		SAT = { country_event = RYU_sho_coup_defeat.2 }
		ENG = { country_event = RYU_sho_coup_defeat.5 }
		USA = { country_event = RYU_sho_coup_defeat.5 }
		FRA = { country_event = RYU_sho_coup_defeat.5 }
	}
}

#Oceania Generic Tree Focus
country_event = {
	id = RYU_open_trade.1
	title = RYU_open_trade.1.t
	desc = RYU_open_trade.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_open_trade.1.a
		ai_chance = { factor = 100 }
		add_political_power = 35
		add_equipment_to_stockpile = { type = convoy_1 amount = 7 producer = RYU }
		custom_effect_tooltip = RYU_prosperity_mechanic_add_5
		add_to_variable = {
			var = ryu_prosperity_mechanic
			value = 5
		}
	}
	
}
	
#Bernard Bettelheim Goofball
country_event = {
	id = RYU_bernard_bettelheim.1
	title = RYU_bernard_bettelheim.1.t
	desc = RYU_bernard_bettelheim.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.1.a
		ai_chance = { factor = 90 }
		add_political_power = 25
		ENG = { country_event = { id = RYU_bernard_bettelheim.2 days = 12} }
	}
	
	option = {
		name = RYU_bernard_bettelheim.1.b
		ai_chance = { factor = 10 }
		add_political_power = -55
		add_stability = -0.10
		ENG = { country_event = { id = RYU_bernard_bettelheim.4 days = 12 } }
		FRA = { country_event = { id = RYU_bernard_bettelheim_success.1 days = 12 } }
		USA = { country_event = { id = RYU_bernard_bettelheim_success.2 days = 12 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_convert_protestant
	}
	
}

#Ryukyu complains about Benard, Britain has low chance to get into Ryukyu
country_event = {
	id = RYU_bernard_bettelheim.2
	title = RYU_bernard_bettelheim.2.t
	desc = RYU_bernard_bettelheim.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.2.a 
		ai_chance = { factor = 100 }
		add_political_power = -10
	}
	
	#option = {
	#	name = RYU_bernard_bettelheim.2.b 
	#	ai_chance = { factor = 10 }
	#	add_political_power = -100
	#	hidden_effect = {
	#		RYU = { country_event = { id = RYU_bernard_bettelheim.3 } }
	#	}
	#}
	
}

country_event = {
	id = RYU_bernard_bettelheim.3
	title = RYU_bernard_bettelheim.3.t
	desc = RYU_bernard_bettelheim.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.3.a 
		ai_chance = { factor = 100 }
		hidden_effect = { SAT = { country_event = { id = RYU_bernard_bettelheim.9 days = 3 } } }
	}
	
}

#Ryukyu asks to increase missionary work, Britain has high chance to get into Ryukyu
country_event = {
	id = RYU_bernard_bettelheim.4
	title = RYU_bernard_bettelheim.4.t
	desc = RYU_bernard_bettelheim.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.4.a 
		ai_chance = { factor = 100 }
		add_political_power = 25
		RYU = { country_event = { id = RYU_bernard_bettelheim.5 days = 12 } }
		#hidden_effect = {
		#	RYU = { remove_from_array = { national_religion_array = global.shinto } }
		#}
		
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim.5
	title = RYU_bernard_bettelheim.5.t
	desc = RYU_bernard_bettelheim.5.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.5.a 
		ai_chance = { factor = 40 }
		#hidden_effect = { RYU = { add_to_array = { national_religion_array = global.protestant } } }
		#swap_ideas = {
		#	remove_idea = religion_shinto
		#	add_idea = religion_protestant
		#}
		custom_effect_tooltip = RYU_bernard_bettelheim_5a_tooltip
		hidden_effect = { SAT = { country_event = { id = RYU_bernard_bettelheim.9 days = 3 } } }
	}
	
	option = {
		name = RYU_bernard_bettelheim.5.b 
		ai_chance = { factor = 60 }
		ENG = { country_event = { id = RYU_bernard_bettelheim.6 days = 12 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_5b_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			country_event = {id = afr_rrp_racial_tension_increase.1}
		}
		hidden_effect = { SAT = { country_event = { id = RYU_bernard_bettelheim.9 days = 3 } } }
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim.6
	title = RYU_bernard_bettelheim.6.t
	desc = RYU_bernard_bettelheim.6.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.6.a 
		ai_chance = { factor = 100 }
		RYU = { country_event = { id = RYU_bernard_bettelheim.8 days = 12 } }
	}
	
	option = {
		name = RYU_bernard_bettelheim.6.b 
		ai_chance = { factor = 0 }
		RYU = { country_event = { id = RYU_bernard_bettelheim.7 days = 12 } }
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim.7
	title = RYU_bernard_bettelheim.7.t
	desc = RYU_bernard_bettelheim.7.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.7.a 
		ai_chance = { factor = 100 }
		custom_effect_tooltip = RYU_bernard_bettelheim_7a_tooltip
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim.8
	title = RYU_bernard_bettelheim.8.t
	desc = RYU_bernard_bettelheim.8.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.8.a 
		ai_chance = { factor = 100 }
		custom_effect_tooltip = RYU_bernard_bettelheim_8a_tooltip
		set_country_flag = RYU_ENG_support
		set_country_flag = RYU_Sho_Coup_Flag
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim.9
	title = RYU_bernard_bettelheim.9.t
	desc = RYU_bernard_bettelheim.9.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim.9.a 
		ai_chance = { factor = 100 }
	}
	
}

country_event = {
	id = RYU_bernard_bettelheim_success.1
	title = RYU_bernard_bettelheim_success.1.t
	desc = RYU_bernard_bettelheim_success.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.1.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_bernard_bettelheim_success.2
	title = RYU_bernard_bettelheim_success.2.t
	desc = RYU_bernard_bettelheim_success.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.2.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_bernard_bettelheim_success.3
	title = RYU_bernard_bettelheim_success.3.t
	desc = RYU_bernard_bettelheim_success.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.3.a 
		ai_chance = { factor = 100 }
		RYU = { country_event = { id = RYU_bernard_bettelheim_success.5 days = 12 } }
	}
}

country_event = {
	id = RYU_bernard_bettelheim_success.4
	title = RYU_bernard_bettelheim_success.4.t
	desc = RYU_bernard_bettelheim_success.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.4.a 
		ai_chance = { factor = 100 }
		RYU = { country_event = { id = RYU_bernard_bettelheim_success.6 days = 12 } }	
	}
}

country_event = {
	id = RYU_bernard_bettelheim_success.5
	title = RYU_bernard_bettelheim_success.5.t
	desc = RYU_bernard_bettelheim_success.5.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.5.a 
		ai_chance = { factor = 100 }
		set_country_flag = RYU_USA_support
		create_field_marshal = {
			name = "Matthew Calbraith Perry"
			picture = ""
			traits = { defensive_doctrine }
			skill = 3
			attack_skill = 2
			defense_skill = 3
			planning_skill = 2
			logistics_skill = 3
		}
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			country_event = {id = afr_rrp_racial_tension_increase.1}
			SAT = { country_event = { id = RYU_sho_coup_satsuma.1 days = 3 } }
		}
	}
}

country_event = {
	id = RYU_bernard_bettelheim_success.6
	title = RYU_bernard_bettelheim_success.6.t
	desc = RYU_bernard_bettelheim_success.6.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_bernard_bettelheim_success.6.a 
		ai_chance = { factor = 100 }
		set_country_flag = RYU_FRA_support
		create_navy_leader = {
			name = "François Macron"
			picture = ""
			traits = { superior_tactician }
			skill = 3
		}
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			country_event = {id = afr_rrp_racial_tension_increase.1}
			SAT = { country_event = { id = RYU_sho_coup_satsuma.3 days = 3 } }
		}
		hidden_effect = {
			add_equipment_production = {
				equipment = {
					type = ship_hull_corvette_0
				}
				requested_factories = 0
				progress = 1
				amount = 1
			}
		}
	}
}

country_event = {
	id = RYU_sho_coup_satsuma.1
	title = RYU_sho_coup_satsuma.1.t
	desc = RYU_sho_coup_satsuma.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_satsuma.1.a 
		ai_chance = { factor = 40 }
		RYU = { country_event = { id = RYU_sho_coup_satsuma.2 days = 3 } }
		add_ai_strategy = {
			type = prepare_for_war
			id = RYU
			value = 10
		}
	}
	
	option = {
		name = RYU_sho_coup_satsuma.1.a 
		ai_chance = { factor = 100 }
		trigger = {
			command_power > 24
		}
		RYU = { country_event = { id = RYU_sho_coup_satsuma.2 days = 3 } }
		add_command_power = -25
		set_country_flag = SAT_sent_divisions_to_ryukyu_1
		1054 = {
			add_manpower = -500
		}
		add_ai_strategy = {
			type = prepare_for_war
			id = RYU
			value = 50
		}
	}
}

country_event = {
	id = RYU_sho_coup_satsuma.2
	title = RYU_sho_coup_satsuma.2.t
	desc = RYU_sho_coup_satsuma.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_satsuma.2.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_sho_coup_satsuma.3
	title = RYU_sho_coup_satsuma.3.t
	desc = RYU_sho_coup_satsuma.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_satsuma.3.a 
		ai_chance = { factor = 40 }
		RYU = { country_event = { id = RYU_sho_coup_satsuma.4 days = 3 } }
		add_ai_strategy = {
			type = prepare_for_war
			id = RYU
			value = 10
		}
	}
	
	option = {
		name = RYU_sho_coup_satsuma.3.b 
		ai_chance = { factor = 100 }
		trigger = {
			command_power > 24
		}
		RYU = { country_event = { id = RYU_sho_coup_satsuma.4 days = 3 } }
		add_command_power = -25
		set_country_flag = SAT_sent_divisions_to_ryukyu_2
		1054 = {
			add_manpower = -500
		}
		add_ai_strategy = {
			type = prepare_for_war
			id = RYU
			value = 50
		}
	}
}

country_event = {
	id = RYU_sho_coup_satsuma.4
	title = RYU_sho_coup_satsuma.4.t
	desc = RYU_sho_coup_satsuma.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_satsuma.4.a 
		ai_chance = { factor = 100 }
	}
}


country_event = {
	id = RYU_sho_coup.1
	title = RYU_sho_coup.1.t
	desc = RYU_sho_coup.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup.1.a 
		ai_chance = { factor = 100 }
		SAT = { country_event = { id = RYU_sho_coup.2 } }
		set_country_flag = RYU_Civil_War
		hidden_effect = { 
			CHI = { country_event = { id = RYU_sho_coup.4 days = 5 } }
		}
		hidden_effect = {
			division_template = {
				name = "Shō Loyalists"
				priority = 1
				division_names_group = RYU_SHO_LOYALISTS_01
				regiments = {
					line_infantry = { x = 0 y = 0 }
				}
			}
			526 ={
				create_unit = {
					division = "name = \"Shō Loyalists\" division_template = \"Shō Loyalists\" start_equipment_factor = 1 start_experience_factor = 0.5" 
					owner = RYU
					prioritize_location = 11932
				}
				create_unit = {
					division = "name = \"Shō Loyalists\" division_template = \"Shō Loyalists\" start_equipment_factor = 1 start_experience_factor = 0.5" 
					owner = RYU
					prioritize_location = 11932
				}
			}
		}
	}
}

country_event = {
	id = RYU_sho_coup.2
	title = RYU_sho_coup.2.t
	desc = RYU_sho_coup.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup.2.a 
		ai_chance = { factor = 100 }
		TSH = { country_event = { id = RYU_sho_coup.3 } }
		hidden_effect = {
			set_province_controller = 10124
			set_province_controller = 1123
			division_template = {
				name = "Sanshikan Loyalists"
				priority = 1
				division_names_group = RYU_SATSUMA_LOYALISTS_01
				regiments = {
					line_infantry = { x = 0 y = 0 }
				}
			}
			if = {
				limit = {
					has_country_flag = SAT_sent_divisions_to_ryukyu_1
				}
				526 ={
					create_unit = {
						division = "name = \"Sanshikan Loyalists\" division_template = \"Sanshikan Loyalists\" start_equipment_factor = 1 start_experience_factor = 1" 
						owner = SAT
						prioritize_location = 10124
					}
				}
			}
			if = {
				limit = {
					has_country_flag = SAT_sent_divisions_to_ryukyu_2
				}
				526 ={
					create_unit = {
						division = "name = \"Sanshikan Loyalists\" division_template = \"Sanshikan Loyalists\" start_equipment_factor = 1 start_experience_factor = 1" 
						owner = SAT
						prioritize_location = 10124
					}
				}
			}
			526 ={
				create_unit = {
					division = "name = \"Sanshikan Loyalists\" division_template = \"Sanshikan Loyalists\" start_equipment_factor = 1 start_experience_factor = 0.5" 
					owner = SAT
					prioritize_location = 10124
				}
				create_unit = {
					division = "name = \"Sanshikan Loyalists\" division_template = \"Sanshikan Loyalists\" start_equipment_factor = 1 start_experience_factor = 0.5" 
					owner = SAT
					prioritize_location = 10124
				}
			}
		}
		declare_war_on = {
			target = RYU
			type = annex_everything
		}
	}
}

country_event = {
	id = RYU_sho_coup.3
	title = RYU_sho_coup.3.t
	desc = RYU_sho_coup.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup.3.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_sho_coup.4
	title = RYU_sho_coup.4.t
	desc = RYU_sho_coup.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup.4.a 
		ai_chance = { factor = 100 }
		RYU = { country_event = { id = RYU_sho_coup.5 days = 5 } }
	}
}

country_event = {
	id = RYU_sho_coup.5
	title = RYU_sho_coup.5.t
	desc = RYU_sho_coup.5.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup.5.a 
		ai_chance = { factor = 100 }
		#CHI = {
		#	diplomatic_relation = {
		#		country = RYU
		#		relation = attache
		#		active = yes
		#	}
		#}
	}
}

country_event = {
	id = RYU_sho_coup_victory.1
	title = RYU_sho_coup_victory.1.t
	desc = RYU_sho_coup_victory.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_victory.1.a 
		ai_chance = { factor = 100 }
		every_country = {
			limit = {
				has_war_with = RYU
			}
			white_peace = RYU 
		}
	}
}

country_event = {
	id = RYU_sho_coup_victory.2
	title = RYU_sho_coup_victory.2.t
	desc = RYU_sho_coup_victory.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_victory.2.a 
		ai_chance = { factor = 100 }
		TSH = { country_event = { id = RYU_sho_coup_victory.3 } }
	}
}

country_event = {
	id = RYU_sho_coup_victory.3
	title = RYU_sho_coup_victory.3.t
	desc = RYU_sho_coup_victory.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_victory.3.a 
		ai_chance = { factor = 100 }
		SAT = { country_event = { id = RYU_sho_coup_victory.4 } }
	}
}

country_event = {
	id = RYU_sho_coup_victory.4
	title = RYU_sho_coup_victory.4.t
	desc = RYU_sho_coup_victory.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_victory.4.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_sho_coup_victory.5
	title = RYU_sho_coup_victory.5.t
	desc = RYU_sho_coup_victory.5.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_victory.5.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_sho_coup_defeat.1
	title = RYU_sho_coup_defeat.1.t
	desc = RYU_sho_coup_defeat.1.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_defeat.1.a 
		ai_chance = { factor = 100 }
		every_country = {
			limit = {
				has_war_with = RYU
			}
			white_peace = RYU 
		}
	}
}

country_event = {
	id = RYU_sho_coup_defeat.2
	title = RYU_sho_coup_defeat.2.t
	desc = RYU_sho_coup_defeat.2.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_defeat.2.a 
		ai_chance = { factor = 100 }
		TSH = { country_event = { id = RYU_sho_coup_defeat.3 } }
	}
}

country_event = {
	id = RYU_sho_coup_defeat.3
	title = RYU_sho_coup_defeat.3.t
	desc = RYU_sho_coup_defeat.3.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_defeat.3.a 
		ai_chance = { factor = 100 }
		SAT = { country_event = { id = RYU_sho_coup_defeat.4 } }
	}
}

country_event = {
	id = RYU_sho_coup_defeat.4
	title = RYU_sho_coup_defeat.4.t
	desc = RYU_sho_coup_defeat.4.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_defeat.4.a 
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = RYU_sho_coup_defeat.5
	title = RYU_sho_coup_defeat.5.t
	desc = RYU_sho_coup_defeat.5.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = RYU_sho_coup_defeat.5.a 
		ai_chance = { factor = 100 }
	}
}
