add_namespace = afr_rrp
add_namespace = afr_rrp_weapon_contract
add_namespace = afr_rrp_racial_tension_increase
add_namespace = afr_rrp_racial_tension_decrease
add_namespace = afr_total_detrimental_colonial_level

state_event = {
	id = afr_total_detrimental_colonial_level.1
	title = afr_total_detrimental_colonial_level.1.t
	desc = afr_total_detrimental_colonial_level.1.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			add_to_temp_array = {
				array = num_of_state_detrimental_colonial_impact_to_change
				value = 1
				index = 1
			}
			resize_temp_array = { num_of_state_detrimental_colonial_impact_to_change = detrimental_colonial_impact_value }
			for_each_loop = {
				array = num_of_state_detrimental_colonial_impact_to_change
				OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
			}
			if = {
				limit = {
					OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } }
					OWNER = { check_variable = { total_detrimental_colonial_impact_value > 0 } }
				}
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
	}
}

country_event = {
	id = afr_total_detrimental_colonial_level.2
	title = afr_total_detrimental_colonial_level.2.t
	desc = afr_total_detrimental_colonial_level.2.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			add_to_temp_array = {
				array = num_of_state_detrimental_colonial_impact_to_change
				value = 1
				index = 1
			}
			resize_temp_array = { num_of_state_detrimental_colonial_impact_to_change = detrimental_colonial_impact_value }
			for_each_loop = {
				array = num_of_state_detrimental_colonial_impact_to_change
				ROOT = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
			}
		}
		if = {
			limit = { ROOT = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
			ROOT = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.1
	title = afr_rrp_racial_tension_increase.1.t
	desc = afr_rrp_racial_tension_increase.1.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 1 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.2
	title = afr_rrp_racial_tension_increase.2.t
	desc = afr_rrp_racial_tension_increase.2.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 2 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 2 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 2 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 2 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.3
	title = afr_rrp_racial_tension_increase.3.t
	desc = afr_rrp_racial_tension_increase.3.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 3 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 3 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 3 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 3 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.4
	title = afr_rrp_racial_tension_increase.4.t
	desc = afr_rrp_racial_tension_increase.4.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 4 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 4 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 4 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 4 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.5
	title = afr_rrp_racial_tension_increase.5.t
	desc = afr_rrp_racial_tension_increase.5.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 5 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 5 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 5 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 5 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_increase.6
	title = afr_rrp_racial_tension_increase.6.t
	desc = afr_rrp_racial_tension_increase.6.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			if = {
				limit = { OWNER = { NOT = { has_idea = afr_total_detrimental_colonial_impact_idea } } }
				OWNER = { add_ideas = afr_total_detrimental_colonial_impact_idea }
			}
			add_to_variable = { var = detrimental_colonial_impact_value value = 6 }
			OWNER = { add_to_variable = { var = total_detrimental_colonial_impact_value value = 6 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 6 } } }
				}
			}
			else = {
				OWNER = { PREV = { add_to_variable = { var = detrimental_colonial_impact_value@PREV value = 6 } } }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.1
	title = afr_rrp_racial_tension_decrease.1.t
	desc = afr_rrp_racial_tension_decrease.1.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			subtract_from_variable = { var = detrimental_colonial_impact_value value = 1 }
			OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 1 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
				}
			}
			else = {
				OWNER = { PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
			}
		}
		PREV = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.2
	title = afr_rrp_racial_tension_decrease.2.t
	desc = afr_rrp_racial_tension_decrease.2.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			subtract_from_variable = { var = detrimental_colonial_impact_value value = 2 }
			OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 2 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
				}
			}
			else = {
				OWNER = { PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 2 } } }
			}
		}
		PREV = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
	}
}

state_event = {
	id = afr_rrp_racial_tension_decrease.3
	title = afr_rrp_racial_tension_decrease.3.t
	desc = afr_rrp_racial_tension_decrease.3.d
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	hidden = yes
	immediate = {
		PREV = {
			subtract_from_variable = { var = detrimental_colonial_impact_value value = 3 }
			OWNER = { subtract_from_variable = { var = total_detrimental_colonial_impact_value value = 3 } }
		}
		PREV = {
			if = {
				limit = { OWNER = { is_subject = yes } }
				OWNER = {
					OVERLORD = { PREV.PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 1 } } }
				}
			}
			else = {
				OWNER = { PREV = { subtract_from_variable = { var = detrimental_colonial_impact_value@PREV value = 3 } } }
			}
		}
		PREV = {
			if = {
				limit = { OWNER = { check_variable = { total_detrimental_colonial_impact_value < 1 } } }
				OWNER = { remove_ideas = afr_total_detrimental_colonial_impact_idea }
			}
		}
	}
}