add_namespace = balkanized_usa_test_kansas
add_namespace = balkanized_usa_test_most
add_namespace = balkanized_usa_test_choose
add_namespace = usa_national_guard_unlock
add_namespace = form_cascadia_event
add_namespace = NA_B_mantle_of_the_states_calculator
add_namespace = NA_B_mantle_of_the_states_calculator_check_1_state
add_namespace = NA_B_diplomacy_maintenance
add_namespace = NA_B_mobilize
add_namespace = NA_B_start
add_namespace = NA_B_set_up_senate
add_namespace = NA_B_congress_mechanic_election_calculator

country_event = {
	id = NA_B_set_up_senate.1
	title = NA_B_set_up_senate.9.t
	desc = NA_B_set_up_senate.9.d
	picture = GFX_report_event_chinese_army_training #Picture for event
	hidden = no

    is_triggered_only = yes

	option = {
		#hidden_effect = {
			ROOT = {
				every_owned_state = {
					limit = {
						is_core_of = ROOT
					}	
					state_event = { id = NA_B_congress_mechanic_election_calculator.1 }
				}
				#360 = {
				#	state_event = { id = NA_B_congress_mechanic_election_calculator.1 }
				#}
			}
			#360 = {
			#	state_event = { id = NA_B_congress_mechanic_election_calculator.1 }
			#}
		#}
	}
}

state_event = {
	id = NA_B_mantle_of_the_states_calculator_check_1_state.1
	title = DCI_low.9.t
	desc = DCI_low.9.d
	picture = GFX_report_event_chinese_army_training #Picture for event
	is_triggered_only = yes


	option = {
		name = DCI_low.9.a
		THIS = { custom_effect_tooltip = NA_B_mantle_of_the_states_calculator_check_1_state_tooltip }
		THIS = { custom_effect_tooltip = NA_B_mantle_of_the_states_calculator_check_2_state_tooltip }

		ROOT = { custom_effect_tooltip = NA_B_mantle_of_the_states_calculator_check_1_state_tooltip }
		ROOT = { custom_effect_tooltip = NA_B_mantle_of_the_states_calculator_check_2_state_tooltip }
	}
}


country_event = {
	id = NA_B_mantle_of_the_states_calculator.1
	hidden = yes
    is_triggered_only = yes

	trigger = {
		has_country_flag = is_successor_state_of_usa_flag
		exists = yes
	}

	immediate = {
		hidden_effect = {
			#LOW
			if = {
				limit = {
					check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = less_than }
					NOT = { has_idea = NA_B_successor_of_the_usa_low }
					NOT = { has_idea = NA_B_successor_of_the_usa_highest }
				}
				if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
				if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
				add_ideas = NA_B_successor_of_the_usa_low
			}
			#MEDIUM
			else_if = {
				limit = {
					check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = greater_than_or_equals }
					check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = less_than }
					NOT = { has_idea = NA_B_successor_of_the_usa_medium }
					NOT = { has_idea = NA_B_successor_of_the_usa_highest }
				}
				if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
				if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
				add_ideas = NA_B_successor_of_the_usa_medium
			}
			#HIGH
			else_if = {
				limit = {
					check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = greater_than_or_equals }
					NOT = { has_idea = NA_B_successor_of_the_usa_high }
					NOT = { has_idea = NA_B_successor_of_the_usa_highest }
				}
				if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
				if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
				add_ideas = NA_B_successor_of_the_usa_high
			}
			#HIGHEST
			ROOT = { set_variable = { ROOT.temp_dont_gain_mantle@ROOT = 1 } }
			every_other_country = {
				limit = {
					has_country_flag = is_successor_state_of_usa_flag
					exists = yes
				}
				if = {
					limit = {
						ROOT = { check_variable = { var = PREV.NA_B_mantle_of_the_states_score_var@PREV value = ROOT.NA_B_mantle_of_the_states_score_var@ROOT compare = greater_than_or_equals } }
					}
					if = {
						limit = { ROOT = { has_idea = NA_B_successor_of_the_usa_highest } }
						ROOT = { set_temp_variable = { ROOT.temp_lost_mantle@ROOT = 1 } }
					}
					if = {
						limit = { ROOT = { NOT = { has_idea = NA_B_successor_of_the_usa_highest } } }
						ROOT = { add_to_variable = { ROOT.temp_dont_gain_mantle@ROOT = 1 } }
					}
				}
			}
			#Lose Mantle
			if = {
				limit = {
					check_variable = { ROOT.temp_lost_mantle@ROOT = 1 }
				}
				remove_ideas = NA_B_successor_of_the_usa_highest
				#LOW
				if = {
					limit = {
						check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = less_than }
						NOT = { has_idea = NA_B_successor_of_the_usa_low }
						NOT = { has_idea = NA_B_successor_of_the_usa_highest }
					}
					if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
					if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
					add_ideas = NA_B_successor_of_the_usa_low
				}
				#MEDIUM
				else_if = {
					limit = {
						check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = greater_than_or_equals }
						check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = less_than }
						NOT = { has_idea = NA_B_successor_of_the_usa_medium }
						NOT = { has_idea = NA_B_successor_of_the_usa_highest }
					}
					if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
					if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
					add_ideas = NA_B_successor_of_the_usa_medium
				}
				#HIGH
				else_if = {
					limit = {
						check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = greater_than_or_equals }
						NOT = { has_idea = NA_B_successor_of_the_usa_high }
						NOT = { has_idea = NA_B_successor_of_the_usa_highest }
					}
					if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
					if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
					add_ideas = NA_B_successor_of_the_usa_high
				}
			}
			#Gain Mantle
			if = {
				limit = {
					NOT = { has_idea = NA_B_successor_of_the_usa_highest }
					check_variable = { ROOT.temp_dont_gain_mantle@ROOT = 1 }
				}
				every_other_country = {
					limit = {
						has_idea = NA_B_successor_of_the_usa_highest
					}
					remove_ideas = NA_B_successor_of_the_usa_highest
					#LOW
					if = {
						limit = {
							check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = less_than }
							NOT = { has_idea = NA_B_successor_of_the_usa_low }
							NOT = { has_idea = NA_B_successor_of_the_usa_highest }
						}
						if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
						if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
						add_ideas = NA_B_successor_of_the_usa_low
					}
					#MEDIUM
					else_if = {
						limit = {
							check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 50 compare = greater_than_or_equals }
							check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = less_than }
							NOT = { has_idea = NA_B_successor_of_the_usa_medium }
							NOT = { has_idea = NA_B_successor_of_the_usa_highest }
						}
						if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
						if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
						add_ideas = NA_B_successor_of_the_usa_medium
					}
					#HIGH
					else_if = {
						limit = {
							check_variable = { var = ROOT.NA_B_mantle_of_the_states_score_var@ROOT value = 125 compare = greater_than_or_equals }
							NOT = { has_idea = NA_B_successor_of_the_usa_high }
							NOT = { has_idea = NA_B_successor_of_the_usa_highest }
						}
						if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
						if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
						add_ideas = NA_B_successor_of_the_usa_high
					}
				}
				ROOT = {
					if = { limit = { has_idea = NA_B_successor_of_the_usa_low } remove_ideas = NA_B_successor_of_the_usa_low }
					if = { limit = { has_idea = NA_B_successor_of_the_usa_medium } remove_ideas = NA_B_successor_of_the_usa_medium }
					if = { limit = { has_idea = NA_B_successor_of_the_usa_high } remove_ideas = NA_B_successor_of_the_usa_high }
					add_ideas = NA_B_successor_of_the_usa_highest
				}
			}
		}
	}
}

country_event = {
	id = form_cascadia_event.1
	title = form_cascadia_event.1.t
	desc = form_cascadia_event.1.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = form_cascadia_event.1.a
		ai_chance = { factor = 80 }
		set_cosmetic_tag = ORE_cascadia
	}

	option = {
		name = form_cascadia_event.1.b
		ai_chance = { factor = 20 }
	}

}

country_event = {
	id = usa_national_guard_unlock.1
	hidden = yes

    is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { USA = { has_template = "National Guard" } }
				USA = {
					set_division_template_lock = {
						division_template = "National Guard"
						is_locked = no
					}
				}
			}
			if = {
				limit = { ASA = { has_template = "National Guard" } }
				ASA = {
					set_division_template_lock = {
						division_template = "National Guard"
						is_locked = no
					}
				}
			}
		}
	}
}

country_event = {
	id = balkanized_usa_test_most.1
	title = balkanized_usa_test_most.1.t
	desc = balkanized_usa_test_most.1.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { CSA = { exists = no } }
			USA = {
				remove_state_core = 364
				add_state_claim = 364
				CSA = { transfer_state = 364 }
				364 = { add_core_of = CSA }
				remove_state_core = 365
				add_state_claim = 365
				CSA = { transfer_state = 365 }
				365 = { add_core_of = CSA }
				remove_state_core = 367
				add_state_claim = 367
				CSA = { transfer_state = 367 }
				367 = { add_core_of = CSA }
				remove_state_core = 370
				add_state_claim = 370
				CSA = { transfer_state = 370 }
				370 = { add_core_of = CSA }
				if = {
					limit = {
						366 = { is_owned_by = USA }
					}
					remove_state_core = 366
					add_state_claim = 366
					CSA = { transfer_state = 366 }
					366 = { add_core_of = CSA }
				}
				if = {
					limit = {
						1211 = { is_owned_by = USA }
					}
					remove_state_core = 1211
					add_state_claim = 1211
					CSA = { transfer_state = 1211 }
					1211 = { add_core_of = CSA }
				}
				CSA = { inherit_technology = USA }
				remove_state_core = 371
				add_state_claim = 371
				CSA = { transfer_state = 371 }
				371 = { add_core_of = CSA }
				remove_state_core = 372
				add_state_claim = 372
				CSA = { transfer_state = 372 }
				372 = { add_core_of = CSA }
				remove_state_core = 363
				add_state_claim = 363
				CSA = { transfer_state = 363 }
				363 = { add_core_of = CSA }
				remove_state_core = 368
				add_state_claim = 368
				CSA = { transfer_state = 368 }
				368 = { add_core_of = CSA }
				remove_state_core = 362
				add_state_claim = 362
				CSA = { transfer_state = 362 }
				362 = { add_core_of = CSA }
			}
			set_global_flag = CSA_leaves_union
		}
		if = {
			limit = { GRL = { exists = no } }
			GRL = {
				transfer_state = 395
				add_state_core = 395
				transfer_state = 394
				add_state_core = 394
				transfer_state = 391
				add_state_core = 391
				transfer_state = 392
				add_state_core = 392
				transfer_state = 396
				add_state_core = 396
				transfer_state = 393
				add_state_core = 393
				transfer_state = 261
				add_state_core = 261
            }
            GRL = { inherit_technology = USA }
			set_global_flag = GRL_leaves_union
		}
		if = {
			limit = { KNS = { exists = no } }
			KNS = {
				transfer_state = 383
                add_state_core = 383
                transfer_state = 384
                add_state_core = 384
			}
			set_global_flag = KNS_leaves_union
		}
		if = {
			limit = { MHC = { exists = no } }
			MHC = {
				transfer_state = 954
				add_state_core = 954
            }
            MHC = { inherit_technology = USA }
			set_global_flag = MHC_leaves_union
		}
		if = {
			limit = { OKL = { exists = no } }
			OKL = {
				transfer_state = 374
				add_state_core = 374
				if = {
                	limit = {
                		USA = { owns_state = 1293 }
                	}
                	transfer_state = 1293
                	add_state_core = 1293
                }
                else = {
                	add_state_claim = 1293
                }
				add_equipment_to_stockpile = { type = cavalry_equipment amount = 200 }
				add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 500 }
				add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 500 }
			}
			set_global_flag = OKL_leaves_union
		}
		if = {
			limit = { NMX = { exists = no } }
			NMX = {
				transfer_state = 1285
				add_state_core = 1285
				transfer_state = 1300
				add_state_core = 1300
				transfer_state = 1297
				add_state_core = 1297
				transfer_state = 377
				add_state_core = 377
				if = {
					limit = {
						USA = { owns_state = 1286 }
					}
					transfer_state = 1286
					add_state_core = 1286
				}
				else = {
					add_state_claim = 1286
				}
				if = {
					limit = {
						USA = { owns_state = 1302 }
					}
					transfer_state = 1302
					add_state_core = 1302
				}
				else = {
					add_state_claim = 1302
				}
				if = {
					limit = {
						USA = { owns_state = 1294 }
					}
					transfer_state = 1294
					add_state_core = 1294
				}
				else = {
					add_state_claim = 1294
				}
				if = {
					limit = {
						USA = { owns_state = 1287 }
					}
					transfer_state = 1287
					add_state_core = 1287
				}
				else = {
					add_state_claim = 1287
				}
				if = {
					limit = {
						USA = { owns_state = 1301 }
					}
					transfer_state = 1301
					add_state_core = 1301
				}
				else = {
					add_state_claim = 1301
				}
				if = {
					limit = {
						USA = { owns_state = 1295 }
					}
					transfer_state = 1295
					add_state_core = 1295
				}
				else = {
					add_state_claim = 1295
				}
				if = {
					limit = {
						USA = { owns_state = 1288 }
					}
					transfer_state = 1288
					add_state_core = 1288
				}
				else = {
					add_state_claim = 1288
				}
				if = {
					limit = {
						USA = { owns_state = 376 }
					}
					transfer_state = 376
					add_state_core = 376
				}
				else = {
					add_state_claim = 376
				}
				if = {
					limit = {
						USA = { owns_state = 1278 }
					}
					transfer_state = 1278
					add_state_core = 1278
				}
				else = {
					add_state_claim = 1278
				}
				if = {
					limit = {
						USA = { owns_state = 1279 }
					}
					transfer_state = 1279
					add_state_core = 1279
				}
				else = {
					add_state_claim = 1279
				}
			}
			NMX = { inherit_technology = USA }
			set_global_flag = NMX_leaves_union
		}
		if = {
			limit = { UTA = { exists = no } }
			UTA = {
				transfer_state = 380
				transfer_state = 379
				transfer_state = 382
				transfer_state = 1093
				add_state_core = 1093
			}
			UTA = { inherit_technology = USA }
			set_global_flag = UTA_leaves_union
		}
		if = {
			limit = { UTA = { exists = yes } }
			UTA = {
				transfer_state = 1093
				add_state_core = 1093
			}
			UTA = { inherit_technology = USA }
			set_global_flag = UTA_leaves_union
		}
		if = {
			limit = { UTA = { has_war_with = SEM } }
			UTA = { white_peace = SEM }
		}
		if = {
			limit = { SEM = { exists = yes } }
			CSA = { add_state_claim = 1211 }
		}
		if = {
			limit = { DAK = { exists = no } }
			DAK = {
				transfer_state = 389
				add_state_core = 389
				transfer_state = 390
				add_state_core = 390
				transfer_state = 388
				add_state_core = 388
				if = {
					limit = {
						USA = { owns_state = 1290 }
					}
					transfer_state = 1290
					add_state_core = 1290
				}
				else = {
					add_state_claim = 1290
				}
				if = {
					limit = {
						USA = { owns_state = 381 }
					}
					transfer_state = 381
					add_state_core = 381
				}
				else = {
					add_state_claim = 381
				}
				if = {
					limit = {
						USA = { owns_state = 1045 }
					}
					transfer_state = 1045
					add_state_core = 1045
				}
				else = {
					add_state_claim = 1045
				}
				if = {
					limit = {
						USA = { owns_state = 1048 }
					}
					transfer_state = 1048
					add_state_core = 1048
				}
				else = {
					add_state_claim = 1048
				}
				if = {
					limit = {
						USA = { owns_state = 1282 }
					}
					transfer_state = 1282
					add_state_core = 1282
				}
				else = {
					add_state_claim = 1282
				}
				if = {
					limit = {
						USA = { owns_state = 1292 }
					}
					transfer_state = 1292
					add_state_core = 1292
				}
				else = {
					add_state_claim = 1292
				}
				if = {
					limit = {
						USA = { owns_state = 1291 }
					}
					transfer_state = 1291
					add_state_core = 1291
				}
				else = {
					add_state_claim = 1291
				}
				if = {
					limit = {
						USA = { owns_state = 1047 }
					}
					transfer_state = 1047
					add_state_core = 1047
				}
				else = {
					add_state_claim = 1047
				}
            }
            DAK = { inherit_technology = yes }
			set_global_flag = DAK_leaves_union
		}
		if = {
			limit = { ORE = { exists = no } }
			ORE = {
                transfer_state = 385
                add_state_core = 385
                transfer_state = 386
                add_state_core = 386
                transfer_state = 1076
                add_state_core = 1076
                if = {
	            	limit = {
	            		USA = { owns_state = 1075 }
	            	}
	            	transfer_state = 1075
	                add_state_core = 1075
	            }
	            else = {
	            	add_state_claim = 1075
	            }
	            if = {
	            	limit = {
	            		USA = { owns_state = 1289 }
	            	}
	            	transfer_state = 1289
	                add_state_core = 1289
	            }
	            else = {
	            	add_state_claim = 1289
	            }
	            if = {
	            	limit = {
	            		USA = { owns_state = 1073 }
	            	}
	            	transfer_state = 1073
	                add_state_core = 1073
	            }
	            else = {
	            	add_state_claim = 1073
	            }
	            if = {
	            	limit = {
	            		USA = { owns_state = 1074 }
	            	}
	            	transfer_state = 1074
	                add_state_core = 1074
	            }
	            else = {
	            	add_state_claim = 1074
	            }
	            if = {
	            	limit = {
	            		USA = { owns_state = 387 }
	            	}
	            	transfer_state = 387
	                add_state_core = 387
	            }
	            else = {
	            	add_state_claim = 387
	            }
            }
            ORE = { inherit_technology = USA }
			hidden_effect = { ORE = { country_event = { id = form_cascadia_event.1 days = 7 } } }
			set_global_flag = ORE_leaves_union
		}
		if = {
			limit = { CAL = { exists = no } }
			CAL = {
                transfer_state = 378
                add_state_core = 378
                if = {
	            	limit = {
	            		USA = { owns_state = 1296 }
	            	}
	            	transfer_state = 1296
	                add_state_core = 1296
	            }
	            else = {
	            	add_state_claim = 1296
	            }
            }
            CAL = { inherit_technology = USA }
			set_global_flag = CAL_leaves_union
		}
		if = {
			limit = { NEG = { exists = no } }
			NEG = {
				transfer_state = 357
				add_state_core = 357
				transfer_state = 1031
				add_state_core = 1031
				transfer_state = 958
				add_state_core = 958
				transfer_state = 959
				add_state_core = 959
				transfer_state = 960
				add_state_core = 960
				transfer_state = 961
				add_state_core = 961
            }
            NEG = { inherit_technology = USA }
			set_global_flag = NEG_leaves_union
		}
		if = {
			limit = { KTY = { exists = no } }
			KTY = {
				transfer_state = 369
				add_state_core = 369
            }
            KTY = { inherit_technology = USA }
			set_global_flag = KTY_leaves_union
		}
		if = {
			limit = { TEX = { exists = no } }
			TEX = {
                transfer_state = 375
                transfer_state = 1305
                transfer_state = 1306
                transfer_state = 1304
                transfer_state = 1303
				add_state_claim = 1281
				add_state_claim = 1280
			}
			TEX = { inherit_technology = USA }
			set_global_flag = TEX_leaves_union
		}
		if = {
			limit = { MIO = { exists = no } }
			MIO = {
				transfer_state = 373
				add_state_core = 373
            }
            MIO = { inherit_technology = USA }
			set_global_flag = MIO_leaves_union
		}
		if = {
			limit = { ASA = { exists = no } }
			every_owned_state = {
            	limit = {
            		is_core_of = USA
            	}
            	add_core_of = ASA
            }
			ASA = {
				annex_country = {
					target = USA
				}
            }
			USA = {
				if = {
					limit = {
						is_ai = no
					}
					ASA = { change_tag_from = USA }
				}
			}
			set_global_flag = ASA_leaves_union
            set_global_flag = USA_great_collapse
            ASA = { inherit_technology = USA }
		}
		ASA = {
			if = {
				limit = {
					CSA = { exists = yes }
				}
				add_opinion_modifier = { target = CSA modifier = csa_old_civil_war_enemies_opinion_modifier }
				reverse_add_opinion_modifier = { target = CSA modifier = csa_old_civil_war_enemies_opinion_modifier }
				set_variable = { rival_country = CSA.id }
				CSA = { set_variable = { rival_country = ASA.id } }
			}
		}
		every_state = {
			limit = {
            	is_claimed_by = USA
            }
			remove_claim_by = USA
		}
		every_state = {
			limit = {
            	is_core_of = USA
            }
			remove_core_of = USA
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		ASA = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 0 }
		ASA = { country_event = { id = balkanized_usa_test_choose.1 days = 2 } }
	}

	option = {
		name = balkanized_usa_test_most.1.e  #Player Becomes Kansas
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = balkanized_usa_test_choose.1
	title = balkanized_usa_test_most.1.t
	desc = balkanized_usa_test_most.1.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		MHC = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		CSA = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d
		ai_chance = { factor = 100 }
		ROOT = { country_event = { id = balkanized_usa_test_most.2 } }
	}

}


country_event = {
	id = balkanized_usa_test_choose.2
	title = balkanized_usa_test_most.2.t
	desc = balkanized_usa_test_most.2.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		GRL = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		NEG = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		ROOT = { country_event = { id = balkanized_usa_test_most.3 } }
	}
}

country_event = {
	id = balkanized_usa_test_choose.3
	title = balkanized_usa_test_most.3.t
	desc = balkanized_usa_test_most.3.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		GRL = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		DAK = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		ROOT = { country_event = { id = balkanized_usa_test_most.4 } }
	}
}

country_event = {
	id = balkanized_usa_test_choose.4
	title = balkanized_usa_test_most.4.t
	desc = balkanized_usa_test_most.4.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		TEX = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		CAL = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		ROOT = { country_event = { id = balkanized_usa_test_most.5 } }
	}
}

country_event = {
	id = balkanized_usa_test_choose.5
	title = balkanized_usa_test_most.5.t
	desc = balkanized_usa_test_most.5.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		UTA = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		ORE = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		ROOT = { country_event = { id = balkanized_usa_test_most.6 } }
	}
}

country_event = {
	id = balkanized_usa_test_choose.6
	title = balkanized_usa_test_most.6.t
	desc = balkanized_usa_test_most.6.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		NMX = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		KNS = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		country_event = { id = balkanized_usa_test_most.7 }
	}
}

country_event = {
	id = balkanized_usa_test_choose.7
	title = balkanized_usa_test_most.7.t
	desc = balkanized_usa_test_most.7.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		OKL = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.c
		ai_chance = { factor = 100 }
		MIO = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_most.1.d
		ai_chance = { factor = 100 }
		KTY = {
			custom_effect_tooltip = balkanized_usa_test_most_c_tooltip
			hidden_effect = { change_tag_from = ROOT }
		}
	}

}

country_event = {
	id = balkanized_usa_test_kansas.1
	title = balkanized_usa_test_kansas.1.t
	desc = balkanized_usa_test_kansas.1.d
	picture = GFX_report_event_election_vote

    is_triggered_only = yes

	immediate = {
		if = {
			limit = { KNS = { exists = no } }
			KNS = {
				transfer_state = 383
                add_state_core = 383
                transfer_state = 384
                add_state_core = 384
			}
		}
	}

	option = {
		name = balkanized_usa_test_kansas.1.a  #Ai Becomes Kansas
		ai_chance = { factor = 100 }
        if = {
			limit = { KNS = { exists = yes } }
			KNS = { change_tag_from = ROOT }
		}
	}

	option = {
		name = balkanized_usa_test_kansas.1.b  #Player Becomes Kansas
		ai_chance = { factor = 100 }
		if = {
			limit = { KNS = { exists = yes } }
			KNS = {
				custom_effect_tooltip = balkanized_usa_test_ai_becomes_kansas_tooltip
			}
		}
	}
}

# Generic American Events

country_event = {
  id = NA_B_diplomacy_maintenance.1
  hidden = yes

  trigger = {
    has_idea = Gen_America_American_System
    NOT = {
      has_idea = Gen_America_Diplo_Maintain_Hidden
    }
  }
  mean_time_to_happen = { days = 2 }

  immediate = {
    add_timed_idea = {
      idea = Gen_America_Diplo_Maintain_Hidden
      days = 360
    }
    every_other_country = {
      if = {
        limit = { has_idea = Gen_America_American_System }
        add_opinion_modifier = {
          target = ROOT
          modifier = fellow_american
        }
      }
    }
  }
}

state_event = {
  id = NA_B_mobilize.1
  title = NA_B_mobilize.1.t
  desc = NA_B_mobilize.1.d

  is_triggered_only = yes

  option = {
    name = NA_B_mobilize.1.a
    custom_effect_tooltip = 01_GENAMER_MOBIL_tt
    hidden_effect = {
      THIS = {
        create_unit = {division = "name = \"State Militia\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER
        }
      }
    }
  }
}

country_event = {
	id = NA_B_start.1
	hidden = yes

	is_triggered_only = yes

	immediate = {
		every_owned_state = {
			create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
			if = {
				limit = { OWNER = { tag = ASA } }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
			}
			if = {
				limit = { state_population < 10000 }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 150 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 1000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 1200 }
				}
			}
			else_if = {
				limit = { state_population < 35000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 450 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 3000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 3600 }
				}
			}
			else_if = {
				limit = { state_population < 90000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 1000 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 5000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount =  8000 }
				}
			}
			else_if = {
				limit = { state_population < 200000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 1500 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 8000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 10000 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 250 }
				}

			}
			else_if = {
				limit = { state_population < 500000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.08 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 2200 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 12500 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 14000 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 350 }
				}
			}
			else_if = {
				limit = { state_population < 900000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 2800 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 16000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 18500 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 450 }
				}
			}
			else_if = {
				limit = { state_population < 1400000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 3350 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 18500 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 21000 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 525 }
				}
			}
			else_if = {
				limit = { state_population < 2000000 }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 3800 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 22100 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 23000 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 600 }
				}
			}
			else = {
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				create_unit = {division = "name = \"State Guard\" division_template = \"National Guard\" start_experience_factor = 0.1 start_equipment_factor = 1" owner = OWNER }
				OWNER = {
					add_equipment_to_stockpile = { type = cavalry_equipment amount = 4000 }
					add_equipment_to_stockpile = { type = infantry_equipment_rifle_0 amount = 24000 }
					add_equipment_to_stockpile = { type = uniform_equipment_0 amount = 25000 }
					add_equipment_to_stockpile = { type = cannon_equipment_0 amount = 650 }
				}
			}
		}
	}
}
