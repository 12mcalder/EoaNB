add_namespace = usa_state_event_on_win_attacker
add_namespace = usa_state_event_on_lose_attacker
add_namespace = usa_state_event_on_cancel_attacker

add_namespace = usa_state_event_on_win_defender
add_namespace = usa_state_event_on_lose_defender
add_namespace = usa_state_event_on_cancel_defender


add_namespace = first_nations_tribal_raid_neighbor_on_win_attacker
add_namespace = first_nations_tribal_raid_neighbor_on_lose_attacker
add_namespace = first_nations_tribal_raid_neighbor_on_cancel_attacker
add_namespace = first_nations_tribal_raid_neighbor_on_win_defender
add_namespace = first_nations_tribal_raid_neighbor_on_lose_defender
add_namespace = first_nations_tribal_raid_neighbor_on_cancel_defender

add_namespace = first_nations_tribal_raid_colonial_neighbor_on_win_attacker
add_namespace = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker
add_namespace = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker
add_namespace = first_nations_tribal_raid_colonial_neighbor_on_win_defender
add_namespace = first_nations_tribal_raid_colonial_neighbor_on_lose_defender
add_namespace = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender

add_namespace = first_nations_tribal_army_flag_change
add_namespace = set_border_war_data_first_nations_tribal_raid
add_namespace = first_nations_tribal_raid_neighbor_detect_raid
add_namespace = first_nations_tribal_raid_colonial_neighbor_detect_raid

country_event = {
	id = first_nations_tribal_army_flag_change.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		ROOT = { clr_country_flag = Tribal_Army_Raised_Due_To_Border_War }
	}
}

country_event = {
	id = set_border_war_data_first_nations_tribal_raid.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { ROOT = { has_country_flag = set_border_war_data_first_nations_tribal_raid_neighbor_flag } }
			ROOT = { clr_country_flag = set_border_war_data_first_nations_tribal_raid_neighbor_flag }
		}
		if = {
			limit = { ROOT = { has_country_flag = set_border_war_data_first_nations_tribal_raid_colonial_neighbor_flag } }
			ROOT = { clr_country_flag = set_border_war_data_first_nations_tribal_raid_colonial_neighbor_flag }
		}
	}
}




##################################################
#First Nations vs First Nations Border War Events#
##################################################
country_event = {
	id = first_nations_tribal_raid_neighbor_detect_raid.1
	title = first_nations_tribal_raid_neighbor_detect_raid.1.t
	desc = first_nations_tribal_raid_neighbor_detect_raid.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_neighbor_detect_raid.1.a
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = set_border_war_data_first_nations_tribal_raid_neighbor_combat_width_tooltip
	}
	
	option = {
		name = first_nations_tribal_raid_neighbor_detect_raid.1.b
		ai_chance = {
			factor = 100
		}
		trigger = {
			ROOT = { NOT = { has_country_flag = Tribal_Army_Raised } }
		}
		custom_effect_tooltip = set_border_war_data_first_nations_tribal_raid_neighbor_combat_width_tooltip
		if = {
			limit = { NOT = { has_country_flag = Tribal_Army_Raised } }
			hidden_effect = {
				set_country_flag = Tribal_Army_Raised_Due_To_Border_War
				ROOT = { country_event = { id = first_nations_tribal_army_flag_change.1 days = 35 } }
				set_country_flag = Tribal_Army_Raised
				afr_call_warriors = yes
				afr_call_tribal_horse_cavalry = yes
				afr_call_tribal_camel_cavalry = yes
			}
		}
	}
}
country_event = {
	id = first_nations_tribal_raid_neighbor_on_win_attacker.1
	title = first_nations_tribal_raid_neighbor_on_win_attacker.1.t
	desc = first_nations_tribal_raid_neighbor_on_win_attacker.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { ROOT = { first_nations_tribal_raid_neighbor_reward_random_list = yes } }
	}
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_win_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 10
		first_nations_tribal_raid_neighbor_reward = yes
	}
}
country_event = {
	id = first_nations_tribal_raid_neighbor_on_lose_attacker.1
	title = first_nations_tribal_raid_neighbor_on_lose_attacker.1.t
	desc = first_nations_tribal_raid_neighbor_on_lose_attacker.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_lose_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 5
		custom_effect_tooltip = afr_war_exhaustion_value_add_1
		add_to_variable = {
			var = afr_war_exhaustion_value
			value = 1
		}
	}
}
country_event = {
	id = first_nations_tribal_raid_neighbor_on_cancel_attacker.1
	title = first_nations_tribal_raid_neighbor_on_cancel_attacker.1.t
	desc = first_nations_tribal_raid_neighbor_on_cancel_attacker.1.d
	picture = GFX_report_event_parwar
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_cancel_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 5
	}
}

country_event = {
	id = first_nations_tribal_raid_neighbor_on_win_defender.1
	title = first_nations_tribal_raid_neighbor_on_win_defender.1.t
	desc = first_nations_tribal_raid_neighbor_on_win_defender.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_win_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 10
	}
}
country_event = {
	id = first_nations_tribal_raid_neighbor_on_lose_defender.1
	title = first_nations_tribal_raid_neighbor_on_lose_defender.1.t
	desc = first_nations_tribal_raid_neighbor_on_lose_defender.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { ROOT = { first_nations_tribal_raid_neighbor_penalty_random_list = yes } }
	}
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_lose_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 5
		custom_effect_tooltip = afr_war_exhaustion_value_add_1
		add_to_variable = {
			var = afr_war_exhaustion_value
			value = 1
		}
		first_nations_tribal_raid_neighbor_penalty = yes
	}
}
country_event = {
	id = first_nations_tribal_raid_neighbor_on_cancel_defender.1
	title = first_nations_tribal_raid_neighbor_on_cancel_defender.1.t
	desc = first_nations_tribal_raid_neighbor_on_cancel_defender.1.d
	picture = GFX_report_event_parwar
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_neighbor_on_cancel_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_neighbor_flag } }
		}
		army_experience = 5
	}
}
####################################################
#First Nations vs Colonial Forces Border War Events#
####################################################
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_detect_raid.1
	title = first_nations_tribal_raid_colonial_neighbor_detect_raid.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_detect_raid.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_detect_raid.1.a
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = set_border_war_data_first_nations_tribal_raid_colonial_neighbor_combat_width_tooltip
	}
}
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_win_attacker.1
	title = first_nations_tribal_raid_colonial_neighbor_on_win_attacker.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_win_attacker.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { ROOT = { first_nations_tribal_raid_colonial_neighbor_reward_random_list = yes } }
	}
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_win_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
		army_experience = 20
		first_nations_tribal_raid_colonial_neighbor_reward = yes
	}
}
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker.1
	title = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
		army_experience = 5
		custom_effect_tooltip = afr_war_exhaustion_value_add_1
		add_to_variable = {
			var = afr_war_exhaustion_value
			value = 1
		}
	}
}
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker.1
	title = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker.1.d
	picture = GFX_report_event_parwar
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
		army_experience = 10
	}
}

country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_win_defender.1
	title = first_nations_tribal_raid_colonial_neighbor_on_win_defender.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_win_defender.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_win_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
		army_experience = 1
	}
}
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_lose_defender.1
	title = first_nations_tribal_raid_colonial_neighbor_on_lose_defender.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_lose_defender.1.d
	picture = GFX_report_event_chinese_army_training
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { ROOT = { first_nations_tribal_raid_colonial_neighbor_penalty_random_list = yes } }
	}
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_lose_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
		first_nations_tribal_raid_colonial_neighbor_penalty = yes
	}
}
country_event = {
	id = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender.1
	title = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender.1.t
	desc = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender.1.d
	picture = GFX_report_event_parwar
	
	is_triggered_only = yes
	
	option = {
		name = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender.1.a
		if = { 
			limit = { ROOT = { has_border_war = no } }
			hidden_effect = { ROOT = { clr_country_flag = first_nations_tribal_raid_colonial_neighbor_flag } }
		}
	}
}

####################################
#Dynamic Attacker Border War Events#
####################################
country_event = {
	id = usa_state_event_on_win_attacker.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_win_attacker.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_win_attacker.1 } }
		}
	}
}

country_event = {
	id = usa_state_event_on_lose_attacker.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_lose_attacker.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_lose_attacker.1 } }
		}
	}
}

country_event = {
	id = usa_state_event_on_cancel_attacker.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_cancel_attacker.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_cancel_attacker.1 } }
		}
	}
}
####################################
#Dynamic Defender Border War Events#
####################################
country_event = {
	id = usa_state_event_on_win_defender.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_win_defender.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_win_defender.1 } }
		}
	}
}

country_event = {
	id = usa_state_event_on_lose_defender.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_lose_defender.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_lose_defender.1 } }
		}
	}
}

country_event = {
	id = usa_state_event_on_cancel_defender.1
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		#link border_war event here
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_neighbor_on_cancel_defender.1 } }
		}
		if = {
			limit = { has_country_flag = first_nations_tribal_raid_colonial_neighbor_flag }
			ROOT = { country_event = { id = first_nations_tribal_raid_colonial_neighbor_on_cancel_defender.1 } }
		}
	}
}


