add_namespace = OTO_battleofgrahovac
add_namespace = OTO_Succession
add_namespace = OTO_general_death

#Death of Abdulmajid I and Abdulaziz Succesion
country_event = {
	id = OTO_Succession.1 
	title = OTO_Succession.1.t
	desc = OTO_Succession.1.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1861.6.25
	}

	option = {
		name = OTO_Succession.1.a
		ai_chance = { factor = 100 }
		add_political_power = -15
		kill_country_leader = yes
		remove_unit_leader = 1876

		create_country_leader = {
			name = "Abdulaziz"
			desc = "POLITICS_ABDULAZIZ_DESC"
			picture = "Portrait_OTO_Abdulaziz_I.dds"
			expire = "1876.5.30"
			ideology = constit_monarch
		}
		create_field_marshal = {
			name = "Abdulaziz"
			  picture = "Portrait_OTO_Abdulaziz_I.dds"
			  id = 1884
			  traits = { }
			  skill = 1
			  attack_skill = 1
			  defense_skill = 1
			  planning_skill = 1
			  logistics_skill = 1
		}
	}
}

#Death of General Omar Pasha
country_event = {
	id = OTO_general_death.1
	title = OTO_general_death.1.t
	desc = OTO_general_death.1.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1871.4.17
	}
	
	hidden = yes
	
	immediate = {
		remove_unit_leader = 1877
	}
}

#Death of General Osman Pasha
country_event = {
	id = OTO_general_death.2
	title = OTO_general_death.2.t
	desc = OTO_general_death.2.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1900.4.5
	}
	
	hidden = yes
	
	immediate = {
		remove_unit_leader = 1878
	}
}

#Death of General Selim Begu Mustafa
country_event = {
	id = OTO_general_death.3
	title = OTO_general_death.3.t
	desc = OTO_general_death.3.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1883.02.19
	}
	
	hidden = yes
	
	immediate = {
		remove_unit_leader = 1879
	}
}

#Death of General İskender Pasha
country_event = {
	id = OTO_general_death.4
	title = OTO_general_death.4.t
	desc = OTO_general_death.4.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1861.6.1
	}
	
	hidden = yes
	
	immediate = {
		remove_unit_leader = 1881
	}
}
		
#Death of General Abdülkerim Nadir Pasha
country_event = {
	id = OTO_general_death.5
	title = OTO_general_death.5.t
	desc = OTO_general_death.5.d
	picture = report_event_likfard
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO
		date > 1883.6.1
	}
	
	hidden = yes
	
	immediate = {
		remove_unit_leader = 1882
	}
}

##Montenegrin Resistance
country_event = {
	id = OTO_battleofgrahovac.1
	title = OTO_battleofgrahovac.1.t
	desc = OTO_battleofgrahovac.1.desc
	picture = GFX_event_test
	
	fire_only_once = yes
	
	trigger = {
		TAG = OTO 
		date > 1868.4.37
	}	
	
	option = {
		name = OTO_battleofgrahovac.1.a
		ai_chance = { factor = 1}
		activate_mission = OTO_reign_in_montenegro
		MNT = {
			country_event = {days = 1 id = OTO_battleofgrahovac.2}
		}
		set_autonomy = {
			target = MNT
			autonomy_state = autonomy_free
		}
	}
	
	option = {
		name = OTO_battleofgrahovac.1.b
		ai_chance = { factor = 1}
		set_autonomy = {
			target = MNT
			autonomy_state = autonomy_free
		}
	}
}

country_event = {
	id = OTO_battleofgrahovac.2
	title = OTO_battleofgrahovac.2.t
	desc = OTO_battleofgrahovac.2.desc
	picture = GFX_event_test
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.2.a
		ai_chance = { factor = 1}
	}
}

##Ottoman Victory at Grahovac
country_event = {
	id = OTO_battleofgrahovac.3
	title = OTO_battleofgrahovac.3.t
	desc = { 
		text = OTO_battleofgrahovac.3.descOTO
		trigger = { 
			TAG = OTO
		}
	}
	desc = { 
		text = OTO_battleofgrahovac.3.descMNT
		trigger = {
			TAG = MNT
		}
	}
	picture = GFX_event_test
	
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.3.a
		trigger = {
			TAG = OTO
		}
		ai_chance = { factor = 1}
		OTO = { 
			set_autonomy = {
				target = MNT
				autonomy_state = autonomy_eyalet
			}
		}
	}
	
	option = {
		name = OTO_battleofgrahovac.3.b
		trigger = {
			TAG = MNT
		}
		ai_chance = { factor = 1}
	}
}

##Ottoman Defeat at Grahovac
country_event = {
	id = OTO_battleofgrahovac.4
	title = OTO_battleofgrahovac.4.t
	desc = { 
		text = OTO_battleofgrahovac.4.descOTO
		trigger = { 
			TAG = OTO
		}
	}
	desc = { 
		text = OTO_battleofgrahovac.4.descMNT
		trigger = {
			TAG = MNT
		}
	}
	picture = GFX_event_test

	is_triggered_only = yes

	option = { 
		name = OTO_battleofgrahovac.4.a
		trigger = {
			TAG = OTO
		}
		ai_chance = { factor = 1}
		OTO = {
			add_equipment_to_stockpile = {
				type = cannon_equipment_0
				amount = -30
				producer = OTO
			}
		}
	}
	option = {
		name = OTO_battleofgrahovac.4.b
		trigger = {
			TAG = MNT
		}
		ai_chance = { factor = 1}
		set_autonomy = {
			target = MNT
			autonomy_state = autonomy_free
		}
		MNT = {
			add_equipment_to_stockpile = {
				type = cannon_equipment_0
				amount = 30
				producer = OTO
			}
		}
	}
}

##Ottoman Battle at Grahovac canceled
country_event = {
	id = OTO_battleofgrahovac.5
	title = OTO_battleofgrahovac.5.t
	desc = OTO_battleofgrahovac.5.desc
	picture = GFX_event_test

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = OTO_battleofgrahovac.5.a
		ai_chance = { factor = 1}
	}
}

##Montenegrin Independence Movement
country_event = {
	id = OTO_battleofgrahovac.6
	title = OTO_battleofgrahovac.6.t
	desc = OTO_battleofgrahovac.6.desc
	picture = GFX_event_test
	
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = OTO_battleofgrahovac.6.a
		ai_chance = { factor = 1}
		add_war_support= -10
		add_stability= -0.06
		set_autonomy = {
			target = MNT
			autonomy_state = autonomy_free
		}
		declare_war_on = { target = MNT type = puppet_wargoal_focus }
	}

	option = {
		name = OTO_battleofgrahovac.6.b
		ai_chance = { factor = 1}
		set_autonomy = {
			target = MNT
			autonomy_state = autonomy_free
		}
		
	}
}




